import{c as Y,j as t,L as $,H as z,r as U}from"./app-Ci7CDRNd.js";import{A as G}from"./mobile-layout-C3OyDd1n.js";import{B as I}from"./badge-Dldc7E2V.js";import{A as J}from"./academic-Baw6BGIT.js";import{E as L}from"./eye-off-7TRjafJC.js";import{E as M}from"./eye-qMwEFdZx.js";import{S as K}from"./square-pen-DDg2pwF-.js";import{T as Q}from"./trash-2-Dx7FgztY.js";import{M as H,B as V}from"./app-sidebar-CPzjeIVL.js";import{P as C}from"./plus-CK3fh7d-.js";import{T as O}from"./triangle-alert-CSLCl1jH.js";import{C as W}from"./layout-dashboard-CjqitNLP.js";/* empty css            */import"./index-BLUAye1L.js";import"./graduation-cap-Dz_krzqH.js";import"./x-B-c32jvu.js";import"./index-i1tW4-ja.js";import"./users-vzg2hPAy.js";const X={general:t.jsx(H,{className:"w-5 h-5"}),academic:t.jsx(W,{className:"w-5 h-5"}),event:t.jsx(V,{className:"w-5 h-5"}),urgent:t.jsx(O,{className:"w-5 h-5"})};function Ne(l){const e=Y.c(41),{announcements:a,stats:p}=l,R=te,q=ee;let j;e[0]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsx(C,{className:"w-6 h-6"}),e[0]=j):j=e[0];let b;e[1]===Symbol.for("react.memo_cache_sentinel")?(b=t.jsx(z,{title:"Pengumuman"}),e[1]=b):b=e[1];let g;e[2]===Symbol.for("react.memo_cache_sentinel")?(g=t.jsx("div",{className:"w-10 h-10 mx-auto mb-2 rounded-xl bg-primary/10 flex items-center justify-center",children:t.jsx(H,{className:"w-5 h-5 text-primary"})}),e[2]=g):g=e[2];const B=p?.total||0;let r;e[3]!==B?(r=t.jsx("p",{className:"text-2xl font-semibold text-on-surface",children:B}),e[3]=B,e[4]=r):r=e[4];let N;e[5]===Symbol.for("react.memo_cache_sentinel")?(N=t.jsx("p",{className:"text-xs text-on-surface-variant mt-1",children:"Total"}),e[5]=N):N=e[5];let i;e[6]!==r?(i=t.jsxs("div",{className:"m3-card-elevated text-center",children:[g,r,N]}),e[6]=r,e[7]=i):i=e[7];let y;e[8]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsx("div",{className:"w-10 h-10 mx-auto mb-2 rounded-xl bg-green-500/10 flex items-center justify-center",children:t.jsx(M,{className:"w-5 h-5 text-green-500"})}),e[8]=y):y=e[8];const T=p?.published||0;let m;e[9]!==T?(m=t.jsx("p",{className:"text-2xl font-semibold text-on-surface",children:T}),e[9]=T,e[10]=m):m=e[10];let v;e[11]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsx("p",{className:"text-xs text-on-surface-variant mt-1",children:"Publik"}),e[11]=v):v=e[11];let c;e[12]!==m?(c=t.jsxs("div",{className:"m3-card-elevated text-center",children:[y,m,v]}),e[12]=m,e[13]=c):c=e[13];let _;e[14]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsx("div",{className:"w-10 h-10 mx-auto mb-2 rounded-xl bg-gray-500/10 flex items-center justify-center",children:t.jsx(L,{className:"w-5 h-5 text-gray-500"})}),e[14]=_):_=e[14];const A=p?.draft||0;let n;e[15]!==A?(n=t.jsx("p",{className:"text-2xl font-semibold text-on-surface",children:A}),e[15]=A,e[16]=n):n=e[16];let w;e[17]===Symbol.for("react.memo_cache_sentinel")?(w=t.jsx("p",{className:"text-xs text-on-surface-variant mt-1",children:"Draft"}),e[17]=w):w=e[17];let d;e[18]!==n?(d=t.jsxs("div",{className:"m3-card-elevated text-center",children:[_,n,w]}),e[18]=n,e[19]=d):d=e[19];let S;e[20]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsx("div",{className:"w-10 h-10 mx-auto mb-2 rounded-xl bg-red-500/10 flex items-center justify-center",children:t.jsx(O,{className:"w-5 h-5 text-red-500"})}),e[20]=S):S=e[20];const D=p?.urgent||0;let o;e[21]!==D?(o=t.jsx("p",{className:"text-2xl font-semibold text-on-surface",children:D}),e[21]=D,e[22]=o):o=e[22];let P;e[23]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsx("p",{className:"text-xs text-on-surface-variant mt-1",children:"Urgent"}),e[23]=P):P=e[23];let x;e[24]!==o?(x=t.jsxs("div",{className:"m3-card-elevated text-center",children:[S,o,P]}),e[24]=o,e[25]=x):x=e[25];let f;e[26]!==c||e[27]!==d||e[28]!==x||e[29]!==i?(f=t.jsxs("div",{className:"grid grid-cols-4 gap-3 m3-stagger",children:[i,c,d,x]}),e[26]=c,e[27]=d,e[28]=x,e[29]=i,e[30]=f):f=e[30];let k;e[31]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsx("div",{className:"md:hidden",children:t.jsxs($,{href:"/admin/announcements/create",className:"m3-button-filled w-full",children:[t.jsx(C,{className:"w-5 h-5"}),"Buat Pengumuman"]})}),e[31]=k):k=e[31];let h;e[32]!==a.data?(h=t.jsx("div",{className:"m3-card-elevated p-0 overflow-hidden",children:a.data.length>0?t.jsx("div",{className:"divide-y divide-border",children:a.data.map((s,F)=>t.jsxs("div",{className:"m3-list-item animate-m3-fade",style:{animationDelay:`${F*50}ms`},children:[t.jsx("div",{className:`w-11 h-11 rounded-xl flex items-center justify-center ${s.type==="urgent"?"bg-red-500/10":s.type==="academic"?"bg-green-500/10":s.type==="event"?"bg-purple-500/10":"bg-primary/10"}`,children:X[s.type]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-medium text-on-surface truncate",children:s.title}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx(I,{variant:s.is_published?"default":"secondary",children:s.is_published?"Publik":"Draft"}),t.jsx(I,{variant:"outline",children:J[s.type]}),t.jsx("span",{className:"text-xs text-on-surface-variant",children:s.published_at&&new Date(s.published_at).toLocaleDateString("id-ID")})]})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("button",{onClick:()=>q(s.id),className:"p-2 rounded-full hover:bg-muted transition-colors",title:s.is_published?"Sembunyikan":"Publikasikan",children:s.is_published?t.jsx(L,{className:"w-4 h-4 text-gray-500"}):t.jsx(M,{className:"w-4 h-4 text-green-500"})}),t.jsx($,{href:`/admin/announcements/${s.id}/edit`,className:"p-2 rounded-full hover:bg-muted transition-colors",children:t.jsx(K,{className:"w-4 h-4 text-primary"})}),t.jsx("button",{onClick:()=>R(s.id,s.title),className:"p-2 rounded-full hover:bg-muted transition-colors",children:t.jsx(Q,{className:"w-4 h-4 text-destructive"})})]})]},s.id))}):t.jsxs("div",{className:"p-8 text-center",children:[t.jsx(H,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-3"}),t.jsx("p",{className:"text-on-surface-variant",children:"Belum ada pengumuman"}),t.jsxs($,{href:"/admin/announcements/create",className:"m3-button-tonal mt-4",children:[t.jsx(C,{className:"w-4 h-4"}),"Buat Pengumuman Pertama"]})]})}),e[32]=a.data,e[33]=h):h=e[33];let u;e[34]!==a.current_page||e[35]!==a.last_page?(u=a.last_page>1&&t.jsx("div",{className:"flex justify-center gap-2",children:Array.from({length:a.last_page},Z).map(s=>t.jsx($,{href:`/admin/announcements?page=${s}`,className:`px-3 py-1 rounded text-sm ${s===a.current_page?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"}`,children:s},s))}),e[34]=a.current_page,e[35]=a.last_page,e[36]=u):u=e[36];let E;return e[37]!==f||e[38]!==h||e[39]!==u?(E=t.jsxs(G,{title:"Pengumuman",showBack:!0,backUrl:"/dashboard",showFab:!0,fabIcon:j,fabHref:"/admin/announcements/create",children:[b,t.jsxs("div",{className:"m3-container py-6 space-y-6",children:[f,k,h,u]})]}),e[37]=f,e[38]=h,e[39]=u,e[40]=E):E=e[40],E}function Z(l,e){return e+1}function ee(l){U.post(`/admin/announcements/${l}/toggle-publish`)}function te(l,e){confirm(`Hapus pengumuman "${e}"?`)&&U.delete(`/admin/announcements/${l}`)}export{Ne as default};
