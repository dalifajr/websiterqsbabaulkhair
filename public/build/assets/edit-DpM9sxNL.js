import{c as ie,a as le,u as ae,j as t,r as re,H as ne}from"./app-sW6fCb4y.js";import{A as oe}from"./mobile-layout-DGQtAksw.js";import{I as Y}from"./input-CIb__f9w.js";import{L as P}from"./label-BWpvdgKZ.js";import{T as ce}from"./textarea-CnJjBKqR.js";import{S as de}from"./switch-D_6rFv74.js";import{U as Z}from"./upload-ChIZam36.js";import{S as me}from"./save-C8X3uZwK.js";/* empty css            */import"./app-sidebar-CI1fYkiJ.js";import"./index-DL5FI1V4.js";import"./x-BJgijQIp.js";import"./graduation-cap-ClVqnEvr.js";import"./index-DHgL46HU.js";import"./layout-dashboard-DKQQ2k74.js";import"./users-bKj1HJXE.js";import"./index-CHtKh_iC.js";function Fe(C){const e=ie.c(81),{post:i}=C,ee=pe;let D;e[0]!==i.image_path?(D=ee(i.image_path),e[0]=i.image_path,e[1]=D):D=e[1];const[F,te]=le.useState(D),se=i.title,W=i.description||"";let n;e[2]!==i.event_date?(n=i.event_date.split("T"),e[2]=i.event_date,e[3]=n):n=e[3];let E;e[4]!==i.is_published||e[5]!==i.title||e[6]!==W||e[7]!==n[0]?(E={title:se,description:W,image:null,event_date:n[0],is_published:i.is_published},e[4]=i.is_published,e[5]=i.title,e[6]=W,e[7]=n[0],e[8]=E):E=e[8];const{data:l,setData:a,processing:U,errors:s,progress:K}=ae(E);let L;e[9]!==a?(L=r=>{const X=r.target.files?.[0];X&&(a("image",X),te(URL.createObjectURL(X)))},e[9]=a,e[10]=L):L=e[10];const T=L;let G;e[11]!==l||e[12]!==i.id?(G=r=>{r.preventDefault(),re.post(`/admin/gallery-posts/${i.id}`,{...l,_method:"put"},{forceFormData:!0})},e[11]=l,e[12]=i.id,e[13]=G):G=e[13];const O=G;let I;e[14]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx(ne,{title:"Edit Dokumentasi Kegiatan"}),e[14]=I):I=e[14];let R;e[15]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx(P,{children:"Foto Kegiatan"}),e[15]=R):R=e[15];let o;e[16]!==T||e[17]!==F?(o=t.jsx("div",{className:"relative border-2 border-dashed rounded-2xl overflow-hidden border-muted-foreground/25 hover:border-primary/50 transition-colors",children:F?t.jsxs("div",{className:"relative aspect-[16/9]",children:[t.jsx("img",{src:F,alt:"Preview",className:"w-full h-full object-cover"}),t.jsxs("label",{className:"absolute bottom-2 right-2 bg-black/60 text-white rounded-full px-3 py-1.5 text-xs hover:bg-black/80 cursor-pointer flex items-center gap-1",children:[t.jsx(Z,{className:"w-3 h-3"}),"Ganti",t.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/webp",onChange:T,className:"hidden"})]})]}):t.jsxs("label",{className:"flex flex-col items-center justify-center py-12 cursor-pointer",children:[t.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mb-3",children:t.jsx(Z,{className:"w-7 h-7 text-primary"})}),t.jsx("p",{className:"text-sm font-medium",children:"Klik untuk upload foto"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"JPG, PNG, atau WebP (maks. 10MB)"}),t.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/webp",onChange:T,className:"hidden"})]})}),e[16]=T,e[17]=F,e[18]=o):o=e[18];let c;e[19]!==K?(c=K&&t.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:t.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${K.percentage}%`}})}),e[19]=K,e[20]=c):c=e[20];let d;e[21]!==s.image?(d=s.image&&t.jsx("p",{className:"text-sm text-destructive",children:s.image}),e[21]=s.image,e[22]=d):d=e[22];let m;e[23]!==o||e[24]!==c||e[25]!==d?(m=t.jsxs("div",{className:"space-y-2",children:[R,o,c,d]}),e[23]=o,e[24]=c,e[25]=d,e[26]=m):m=e[26];let $;e[27]===Symbol.for("react.memo_cache_sentinel")?($=t.jsx(P,{htmlFor:"title",children:"Judul Foto *"}),e[27]=$):$=e[27];let p;e[28]!==a?(p=r=>a("title",r.target.value),e[28]=a,e[29]=p):p=e[29];const q=s.title?"border-destructive":"";let u;e[30]!==l.title||e[31]!==p||e[32]!==q?(u=t.jsx(Y,{id:"title",value:l.title,onChange:p,placeholder:"Contoh: Kegiatan Belajar Mengaji",className:q}),e[30]=l.title,e[31]=p,e[32]=q,e[33]=u):u=e[33];let f;e[34]!==s.title?(f=s.title&&t.jsx("p",{className:"text-sm text-destructive",children:s.title}),e[34]=s.title,e[35]=f):f=e[35];let h;e[36]!==u||e[37]!==f?(h=t.jsxs("div",{className:"space-y-2",children:[$,u,f]}),e[36]=u,e[37]=f,e[38]=h):h=e[38];let B;e[39]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsx(P,{htmlFor:"event_date",children:"Tanggal Kegiatan *"}),e[39]=B):B=e[39];let x;e[40]!==a?(x=r=>a("event_date",r.target.value),e[40]=a,e[41]=x):x=e[41];const z=s.event_date?"border-destructive":"";let g;e[42]!==l.event_date||e[43]!==x||e[44]!==z?(g=t.jsx(Y,{id:"event_date",type:"date",value:l.event_date,onChange:x,className:z}),e[42]=l.event_date,e[43]=x,e[44]=z,e[45]=g):g=e[45];let b;e[46]!==s.event_date?(b=s.event_date&&t.jsx("p",{className:"text-sm text-destructive",children:s.event_date}),e[46]=s.event_date,e[47]=b):b=e[47];let j;e[48]!==g||e[49]!==b?(j=t.jsxs("div",{className:"space-y-2",children:[B,g,b]}),e[48]=g,e[49]=b,e[50]=j):j=e[50];let M;e[51]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsx(P,{htmlFor:"description",children:"Deskripsi Singkat"}),e[51]=M):M=e[51];let v;e[52]!==a?(v=r=>a("description",r.target.value),e[52]=a,e[53]=v):v=e[53];const Q=s.description?"border-destructive":"";let _;e[54]!==l.description||e[55]!==v||e[56]!==Q?(_=t.jsx(ce,{id:"description",value:l.description,onChange:v,placeholder:"Deskripsi singkat tentang kegiatan...",rows:3,className:Q}),e[54]=l.description,e[55]=v,e[56]=Q,e[57]=_):_=e[57];let y;e[58]!==s.description?(y=s.description&&t.jsx("p",{className:"text-sm text-destructive",children:s.description}),e[58]=s.description,e[59]=y):y=e[59];let N;e[60]!==_||e[61]!==y?(N=t.jsxs("div",{className:"space-y-2",children:[M,_,y]}),e[60]=_,e[61]=y,e[62]=N):N=e[62];let A;e[63]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsxs("div",{children:[t.jsx(P,{children:"Publikasikan"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Tampilkan di halaman profil"})]}),e[63]=A):A=e[63];let k;e[64]!==a?(k=r=>a("is_published",r),e[64]=a,e[65]=k):k=e[65];let w;e[66]!==l.is_published||e[67]!==k?(w=t.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[A,t.jsx(de,{checked:l.is_published,onCheckedChange:k})]}),e[66]=l.is_published,e[67]=k,e[68]=w):w=e[68];let H;e[69]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx(me,{className:"w-5 h-5"}),e[69]=H):H=e[69];const V=U?"Menyimpan...":"Simpan Perubahan";let S;e[70]!==U||e[71]!==V?(S=t.jsxs("button",{type:"submit",disabled:U,className:"m3-button-filled w-full",children:[H,V]}),e[70]=U,e[71]=V,e[72]=S):S=e[72];let J;return e[73]!==O||e[74]!==m||e[75]!==h||e[76]!==j||e[77]!==N||e[78]!==w||e[79]!==S?(J=t.jsxs(oe,{title:"Edit Dokumentasi",showBack:!0,backUrl:"/admin/gallery-posts",children:[I,t.jsx("div",{className:"m3-container py-6 space-y-6",children:t.jsxs("form",{onSubmit:O,className:"space-y-6",children:[m,h,j,N,w,S]})})]}),e[73]=O,e[74]=m,e[75]=h,e[76]=j,e[77]=N,e[78]=w,e[79]=S,e[80]=J):J=e[80],J}function pe(C){return C.startsWith("data:")?C:`/storage/${C}`}export{Fe as default};
