import{c as G,u as I,j as t,H as M}from"./app-BKRXp40Z.js";import{A as O}from"./mobile-layout-CLCTF93r.js";import{S as Q}from"./save-BHrAcMQz.js";/* empty css            */import"./app-sidebar-CYkn40d_.js";import"./index-BBXlvfNf.js";import"./x-CunSLndO.js";import"./graduation-cap-mM4L8sj4.js";import"./index-CHEM0tN0.js";import"./layout-dashboard-DfaYvmA7.js";import"./users-07rPhrSb.js";function re(r){const e=G.c(72),{note:a,students:J}=r,K=String(a.student_id);let d;e[0]!==a.date?(d=a.date?.split("T")[0]||"",e[0]=a.date,e[1]=d):d=e[1];let E;e[2]!==a.description||e[3]!==a.type||e[4]!==K||e[5]!==d?(E={student_id:K,type:a.type,description:a.description,date:d},e[2]=a.description,e[3]=a.type,e[4]=K,e[5]=d,e[6]=E):E=e[6];const{data:l,setData:n,put:L,processing:c,errors:i}=I(E);let q;e[7]!==a.id||e[8]!==L?(q=s=>{s.preventDefault(),L(`/admin/behavioral-notes/${a.id}`)},e[7]=a.id,e[8]=L,e[9]=q):q=e[9];const U=q;let D;e[10]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsx(M,{title:"Edit Catatan Perilaku"}),e[10]=D):D=e[10];let T;e[11]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsx("label",{className:"text-sm font-medium text-on-surface-variant",children:"Siswa"}),e[11]=T):T=e[11];const z=l.student_id;let m;e[12]!==n?(m=s=>n("student_id",s.target.value),e[12]=n,e[13]=m):m=e[13];let $;e[14]===Symbol.for("react.memo_cache_sentinel")?($=t.jsx("option",{value:"",children:"Pilih siswa..."}),e[14]=$):$=e[14];let o;e[15]!==J?(o=J.map(V),e[15]=J,e[16]=o):o=e[16];let u;e[17]!==l.student_id||e[18]!==o||e[19]!==m?(u=t.jsxs("select",{value:z,onChange:m,className:"m3-input mt-2",required:!0,children:[$,o]}),e[17]=l.student_id,e[18]=o,e[19]=m,e[20]=u):u=e[20];let p;e[21]!==i.student_id?(p=i.student_id&&t.jsx("p",{className:"text-sm text-destructive mt-2",children:i.student_id}),e[21]=i.student_id,e[22]=p):p=e[22];let x;e[23]!==u||e[24]!==p?(x=t.jsxs("div",{children:[T,u,p]}),e[23]=u,e[24]=p,e[25]=x):x=e[25];let A;e[26]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx("label",{className:"text-sm font-medium text-on-surface-variant",children:"Jenis Catatan"}),e[26]=A):A=e[26];let B;e[27]===Symbol.for("react.memo_cache_sentinel")?(B=[{value:"achievement",label:"Prestasi",active:"bg-green-600 text-white",inactive:"bg-green-100 text-green-700"},{value:"violation",label:"Pelanggaran",active:"bg-red-600 text-white",inactive:"bg-red-100 text-red-700"},{value:"counseling",label:"Konseling",active:"bg-blue-600 text-white",inactive:"bg-blue-100 text-blue-700"}],e[27]=B):B=e[27];let f;e[28]!==l.type||e[29]!==n?(f=t.jsx("div",{className:"flex gap-2 mt-2",children:B.map(s=>t.jsx("button",{type:"button",onClick:()=>n("type",s.value),className:`flex-1 py-2.5 rounded-xl text-sm font-medium transition-all ${l.type===s.value?s.active:s.inactive}`,children:s.label},s.value))}),e[28]=l.type,e[29]=n,e[30]=f):f=e[30];let h;e[31]!==i.type?(h=i.type&&t.jsx("p",{className:"text-sm text-destructive mt-2",children:i.type}),e[31]=i.type,e[32]=h):h=e[32];let v;e[33]!==f||e[34]!==h?(v=t.jsxs("div",{children:[A,f,h]}),e[33]=f,e[34]=h,e[35]=v):v=e[35];let F;e[36]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsx("label",{className:"text-sm font-medium text-on-surface-variant",children:"Tanggal"}),e[36]=F):F=e[36];let b;e[37]!==n?(b=s=>n("date",s.target.value),e[37]=n,e[38]=b):b=e[38];let j;e[39]!==l.date||e[40]!==b?(j=t.jsx("input",{type:"date",value:l.date,onChange:b,className:"m3-input mt-2",required:!0}),e[39]=l.date,e[40]=b,e[41]=j):j=e[41];let y;e[42]!==i.date?(y=i.date&&t.jsx("p",{className:"text-sm text-destructive mt-2",children:i.date}),e[42]=i.date,e[43]=y):y=e[43];let g;e[44]!==j||e[45]!==y?(g=t.jsxs("div",{children:[F,j,y]}),e[44]=j,e[45]=y,e[46]=g):g=e[46];let H;e[47]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx("label",{className:"text-sm font-medium text-on-surface-variant",children:"Deskripsi"}),e[47]=H):H=e[47];let _;e[48]!==n?(_=s=>n("description",s.target.value),e[48]=n,e[49]=_):_=e[49];let N;e[50]!==l.description||e[51]!==_?(N=t.jsx("textarea",{value:l.description,onChange:_,className:"m3-input mt-2 min-h-[120px]",placeholder:"Tuliskan catatan perilaku siswa...",required:!0}),e[50]=l.description,e[51]=_,e[52]=N):N=e[52];let S;e[53]!==i.description?(S=i.description&&t.jsx("p",{className:"text-sm text-destructive mt-2",children:i.description}),e[53]=i.description,e[54]=S):S=e[54];let w;e[55]!==N||e[56]!==S?(w=t.jsxs("div",{children:[H,N,S]}),e[55]=N,e[56]=S,e[57]=w):w=e[57];let k;e[58]!==x||e[59]!==v||e[60]!==g||e[61]!==w?(k=t.jsxs("div",{className:"m3-card-elevated space-y-5",children:[x,v,g,w]}),e[58]=x,e[59]=v,e[60]=g,e[61]=w,e[62]=k):k=e[62];let C;e[63]!==c?(C=c?t.jsx("div",{className:"w-5 h-5 border-2 border-primary-foreground/30 border-t-primary-foreground rounded-full animate-spin"}):t.jsxs(t.Fragment,{children:[t.jsx(Q,{className:"w-5 h-5"}),"Simpan Perubahan"]}),e[63]=c,e[64]=C):C=e[64];let P;e[65]!==c||e[66]!==C?(P=t.jsx("button",{type:"submit",disabled:c,className:"w-full m3-button-filled h-12",children:C}),e[65]=c,e[66]=C,e[67]=P):P=e[67];let R;return e[68]!==U||e[69]!==k||e[70]!==P?(R=t.jsxs(O,{title:"Edit Catatan Perilaku",showBack:!0,backUrl:"/admin/behavioral-notes",children:[D,t.jsx("div",{className:"m3-container py-6",children:t.jsxs("form",{onSubmit:U,className:"max-w-xl mx-auto space-y-6",children:[k,P]})})]}),e[68]=U,e[69]=k,e[70]=P,e[71]=R):R=e[71],R}function V(r){return t.jsxs("option",{value:r.id,children:[r.nis," - ",r.name]},r.id)}export{re as default};
