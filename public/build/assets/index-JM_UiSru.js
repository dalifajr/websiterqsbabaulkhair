import{c as F,j as a,L as H,r as R,H as K}from"./app-BKRXp40Z.js";import{A as M}from"./mobile-layout-CLCTF93r.js";import{B as q}from"./badge-CbKjg27q.js";import{S as O,d as $,b as T,c as U,a as E}from"./select-_P3ri280.js";import{D as J}from"./academic-Baw6BGIT.js";import{C as I}from"./layout-dashboard-DfaYvmA7.js";import{C as G}from"./clock-CVtSGtIu.js";import{U as Y}from"./user-BtDE6FCt.js";import{M as z}from"./map-pin-CYD8hrl1.js";import{S as Q}from"./square-pen-CQEY4pC1.js";import{T as W}from"./trash-2-Cnj0BeTL.js";import{P as L}from"./plus-B7t01qVn.js";/* empty css            */import"./app-sidebar-CYkn40d_.js";import"./index-BBXlvfNf.js";import"./x-CunSLndO.js";import"./graduation-cap-mM4L8sj4.js";import"./index-CHEM0tN0.js";import"./users-07rPhrSb.js";import"./index-D2ags-Xo.js";import"./chevron-down-Dso6wE8p.js";import"./check-1ylfPcJe.js";const X=["monday","tuesday","wednesday","thursday","friday","saturday"];function Ce(l){const e=F.c(44),{schedules:t,classGroups:B,filters:r,stats:A}=l,V=le;let g;e[0]!==r?(g=(s,P)=>{R.get("/admin/schedules",{...r,[s]:P==="all"?null:P},{preserveState:!0})},e[0]=r,e[1]=g):g=e[1];const i=g;let N;e[2]===Symbol.for("react.memo_cache_sentinel")?(N=a.jsx(L,{className:"w-6 h-6"}),e[2]=N):N=e[2];let v;e[3]===Symbol.for("react.memo_cache_sentinel")?(v=a.jsx(K,{title:"Jadwal Pelajaran"}),e[3]=v):v=e[3];let n;e[4]!==A?.by_day?(n=X.map(s=>a.jsxs("div",{className:"m3-card-elevated text-center p-2",children:[a.jsx("p",{className:"text-lg font-semibold text-on-surface",children:A?.by_day?.[s]||0}),a.jsx("p",{className:"text-xs text-on-surface-variant",children:J[s].slice(0,3)})]},s)),e[4]=A?.by_day,e[5]=n):n=e[5];let m;e[6]!==n?(m=a.jsx("div",{className:"grid grid-cols-6 gap-2 m3-stagger",children:n}),e[6]=n,e[7]=m):m=e[7];let c;e[8]!==r.class_group_id?(c=r.class_group_id?.toString()||"all",e[8]=r.class_group_id,e[9]=c):c=e[9];let d;e[10]!==i?(d=s=>i("class_group_id",s),e[10]=i,e[11]=d):d=e[11];let y;e[12]===Symbol.for("react.memo_cache_sentinel")?(y=a.jsx(T,{className:"flex-1",children:a.jsx(U,{placeholder:"Semua Kelas"})}),e[12]=y):y=e[12];let b;e[13]===Symbol.for("react.memo_cache_sentinel")?(b=a.jsx($,{value:"all",children:"Semua Kelas"}),e[13]=b):b=e[13];let o;e[14]!==B?(o=B.map(te),e[14]=B,e[15]=o):o=e[15];let f;e[16]!==o?(f=a.jsxs(O,{children:[b,o]}),e[16]=o,e[17]=f):f=e[17];let x;e[18]!==f||e[19]!==c||e[20]!==d?(x=a.jsxs(E,{value:c,onValueChange:d,children:[y,f]}),e[18]=f,e[19]=c,e[20]=d,e[21]=x):x=e[21];const D=r.day_of_week||"all";let h;e[22]!==i?(h=s=>i("day_of_week",s),e[22]=i,e[23]=h):h=e[23];let S;e[24]===Symbol.for("react.memo_cache_sentinel")?(S=a.jsx(T,{className:"flex-1",children:a.jsx(U,{placeholder:"Semua Hari"})}),e[24]=S):S=e[24];let w;e[25]===Symbol.for("react.memo_cache_sentinel")?(w=a.jsxs(O,{children:[a.jsx($,{value:"all",children:"Semua Hari"}),Object.entries(J).map(se)]}),e[25]=w):w=e[25];let p;e[26]!==D||e[27]!==h?(p=a.jsxs(E,{value:D,onValueChange:h,children:[S,w]}),e[26]=D,e[27]=h,e[28]=p):p=e[28];let u;e[29]!==x||e[30]!==p?(u=a.jsxs("div",{className:"flex gap-2",children:[x,p]}),e[29]=x,e[30]=p,e[31]=u):u=e[31];let k;e[32]===Symbol.for("react.memo_cache_sentinel")?(k=a.jsx("div",{className:"md:hidden",children:a.jsxs(H,{href:"/admin/schedules/create",className:"m3-button-filled w-full",children:[a.jsx(L,{className:"w-5 h-5"}),"Tambah Jadwal"]})}),e[32]=k):k=e[32];let j;e[33]!==t.data?(j=a.jsx("div",{className:"m3-card-elevated p-0 overflow-hidden",children:t.data.length>0?a.jsx("div",{className:"divide-y divide-border",children:t.data.map((s,P)=>a.jsxs("div",{className:"m3-list-item animate-m3-fade",style:{animationDelay:`${P*50}ms`},children:[a.jsx("div",{className:"w-11 h-11 rounded-xl bg-primary/10 flex items-center justify-center",children:a.jsx(I,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-on-surface truncate",children:s.teaching_assignment?.subject?.name}),a.jsxs("div",{className:"flex items-center gap-2 mt-1 text-sm text-on-surface-variant",children:[a.jsx(q,{variant:"outline",children:J[s.day_of_week]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(G,{className:"w-3 h-3"}),s.start_time?.slice(0,5)," - ",s.end_time?.slice(0,5)]})]}),a.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-on-surface-variant",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Y,{className:"w-3 h-3"}),s.teaching_assignment?.teacher?.name]}),s.room&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(z,{className:"w-3 h-3"}),s.room]})]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(H,{href:`/admin/schedules/${s.id}/edit`,className:"p-2 rounded-full hover:bg-muted transition-colors",children:a.jsx(Q,{className:"w-4 h-4 text-primary"})}),a.jsx("button",{onClick:()=>V(s.id),className:"p-2 rounded-full hover:bg-muted transition-colors",children:a.jsx(W,{className:"w-4 h-4 text-destructive"})})]})]},s.id))}):a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(I,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-3"}),a.jsx("p",{className:"text-on-surface-variant",children:"Belum ada jadwal"}),a.jsxs(H,{href:"/admin/schedules/create",className:"m3-button-tonal mt-4",children:[a.jsx(L,{className:"w-4 h-4"}),"Buat Jadwal Pertama"]})]})}),e[33]=t.data,e[34]=j):j=e[34];let _;e[35]!==r||e[36]!==t.current_page||e[37]!==t.last_page?(_=t.last_page>1&&a.jsx("div",{className:"flex justify-center gap-2",children:Array.from({length:t.last_page},ae).map(s=>a.jsx(H,{href:`/admin/schedules?${new URLSearchParams({...Object.fromEntries(Object.entries(r).filter(ee).map(Z)),page:String(s)}).toString()}`,className:`px-3 py-1 rounded text-sm ${s===t.current_page?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"}`,children:s},s))}),e[35]=r,e[36]=t.current_page,e[37]=t.last_page,e[38]=_):_=e[38];let C;return e[39]!==u||e[40]!==j||e[41]!==_||e[42]!==m?(C=a.jsxs(M,{title:"Jadwal Pelajaran",showBack:!0,backUrl:"/dashboard",showFab:!0,fabIcon:N,fabHref:"/admin/schedules/create",children:[v,a.jsxs("div",{className:"m3-container py-6 space-y-6",children:[m,u,k,j,_]})]}),e[39]=u,e[40]=j,e[41]=_,e[42]=m,e[43]=C):C=e[43],C}function Z(l){const[e,t]=l;return[e,String(t)]}function ee(l){const[,e]=l;return e!=null}function ae(l,e){return e+1}function se(l){const[e,t]=l;return a.jsx($,{value:e,children:t},e)}function te(l){return a.jsx($,{value:l.id.toString(),children:l.name},l.id)}function le(l){confirm("Hapus jadwal ini?")&&R.delete(`/admin/schedules/${l}`)}export{Ce as default};
