import{c as Pe,u as Qe,a as Ce,j as t,r as Ae,H as Ve,L as Xe}from"./app-sW6fCb4y.js";import{a as Ye,A as Ze}from"./mobile-layout-DGQtAksw.js";import{A as et}from"./users-bKj1HJXE.js";import{T as tt}from"./trash-2-CphmM8FT.js";import{U as He}from"./user-plus-BKwAlh7N.js";import{S as it}from"./save-C8X3uZwK.js";/* empty css            */import"./app-sidebar-CI1fYkiJ.js";import"./index-DL5FI1V4.js";import"./x-BJgijQIp.js";import"./graduation-cap-ClVqnEvr.js";import"./index-DHgL46HU.js";import"./layout-dashboard-DKQQ2k74.js";const a={primary:"#0d6e3f",primaryLight:"#15a060",primaryDark:"#0a5832",gold:"#c8a951"},h={width:"100%",padding:"10px 14px",borderRadius:"12px",border:"1.5px solid rgba(13,110,63,0.15)",fontSize:"14px",backgroundColor:"#fafafa",outline:"none",boxSizing:"border-box"};function jt(o){const e=Pe.c(139),{extracurricular:r,teachers:m,days:g,enrollments:c,availableStudents:d,activeTerm:p}=o,f=r.description||"",ze=r.teacher_user_id||"",we=r.day||"";let y;e[0]!==r.time_start?(y=r.time_start?.slice(0,5)||"",e[0]=r.time_start,e[1]=y):y=e[1];let b;e[2]!==r.time_end?(b=r.time_end?.slice(0,5)||"",e[2]=r.time_end,e[3]=b):b=e[3];let le;e[4]!==r.is_active||e[5]!==r.name||e[6]!==f||e[7]!==ze||e[8]!==we||e[9]!==y||e[10]!==b?(le={name:r.name,description:f,teacher_user_id:ze,day:we,time_start:y,time_end:b,is_active:r.is_active},e[4]=r.is_active,e[5]=r.name,e[6]=f,e[7]=ze,e[8]=we,e[9]=y,e[10]=b,e[11]=le):le=e[11];const{data:l,setData:n,put:Ee,processing:j,errors:s}=Qe(le);let ne;e[12]===Symbol.for("react.memo_cache_sentinel")?(ne=[],e[12]=ne):ne=e[12];const[x,Ue]=Ce.useState(ne),[ie,Le]=Ce.useState(null),[_,Fe]=Ce.useState(""),[S,Ne]=Ce.useState("");let se;e[13]!==r.id||e[14]!==Ee?(se=i=>{i.preventDefault(),Ee(`/admin/extracurriculars/${r.id}`)},e[13]=r.id,e[14]=Ee,e[15]=se):se=e[15];const We=se;let ae;e[16]!==r.id||e[17]!==x?(ae=()=>{x.length!==0&&Ae.post(`/admin/extracurriculars/${r.id}/enroll`,{student_ids:x},{preserveState:!1})},e[16]=r.id,e[17]=x,e[18]=ae):ae=e[18];const De=ae;let oe;e[19]!==S||e[20]!==_?(oe=i=>{Ae.put(`/admin/extracurricular-enrollments/${i}`,{grade:_,description:S},{preserveState:!1,onSuccess:()=>Le(null)})},e[19]=S,e[20]=_,e[21]=oe):oe=e[21];const Ie=oe,Ge=st;let de;e[22]===Symbol.for("react.memo_cache_sentinel")?(de=i=>{Ue(u=>u.includes(i)?u.filter(re=>re!==i):[...u,i])},e[22]=de):de=e[22];const Je=de,Re=`Edit ${r.name}`;let v;e[23]!==Re?(v=t.jsx(Ve,{title:Re}),e[23]=Re,e[24]=v):v=e[24];let ce;e[25]===Symbol.for("react.memo_cache_sentinel")?(ce={padding:"20px 16px 32px",maxWidth:"800px",margin:"0 auto",fontFamily:"'Inter', sans-serif"},e[25]=ce):ce=e[25];let pe,xe,me;e[26]===Symbol.for("react.memo_cache_sentinel")?(pe={backgroundColor:"#fff",borderRadius:"20px",padding:"24px",marginBottom:"20px",boxShadow:"0 2px 12px rgba(13,110,63,0.06)",border:"1px solid rgba(13,110,63,0.08)"},xe=t.jsx("h2",{style:{fontSize:"16px",fontWeight:600,color:a.primaryDark,marginBottom:"20px"},children:"Informasi Ekstrakurikuler"}),me={display:"grid",gap:"16px"},e[26]=pe,e[27]=xe,e[28]=me):(pe=e[26],xe=e[27],me=e[28]);let k;e[29]!==n?(k=i=>n("name",i.target.value),e[29]=n,e[30]=k):k=e[30];let C;e[31]!==l.name||e[32]!==k?(C=t.jsx("input",{type:"text",value:l.name,onChange:k,style:h}),e[31]=l.name,e[32]=k,e[33]=C):C=e[33];let z;e[34]!==s.name||e[35]!==C?(z=t.jsx(te,{label:"Nama *",error:s.name,children:C}),e[34]=s.name,e[35]=C,e[36]=z):z=e[36];let w;e[37]!==n?(w=i=>n("description",i.target.value),e[37]=n,e[38]=w):w=e[38];let fe;e[39]===Symbol.for("react.memo_cache_sentinel")?(fe={...h,resize:"vertical"},e[39]=fe):fe=e[39];let E;e[40]!==l.description||e[41]!==w?(E=t.jsx("textarea",{value:l.description,onChange:w,rows:3,style:fe}),e[40]=l.description,e[41]=w,e[42]=E):E=e[42];let W;e[43]!==s.description||e[44]!==E?(W=t.jsx(te,{label:"Deskripsi",error:s.description,children:E}),e[43]=s.description,e[44]=E,e[45]=W):W=e[45];const Ke=s.teacher_user_id,Me=l.teacher_user_id;let D;e[46]!==n?(D=i=>n("teacher_user_id",i.target.value),e[46]=n,e[47]=D):D=e[47];let he;e[48]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsx("option",{value:"",children:"Pilih Pembina"}),e[48]=he):he=e[48];let I;e[49]!==m?(I=m.map(nt),e[49]=m,e[50]=I):I=e[50];let R;e[51]!==l.teacher_user_id||e[52]!==D||e[53]!==I?(R=t.jsxs("select",{value:Me,onChange:D,style:h,children:[he,I]}),e[51]=l.teacher_user_id,e[52]=D,e[53]=I,e[54]=R):R=e[54];let B;e[55]!==s.teacher_user_id||e[56]!==R?(B=t.jsx(te,{label:"Pembina",error:Ke,children:R}),e[55]=s.teacher_user_id,e[56]=R,e[57]=B):B=e[57];const Oe=s.day,qe=l.day;let $;e[58]!==n?($=i=>n("day",i.target.value),e[58]=n,e[59]=$):$=e[59];let ge;e[60]===Symbol.for("react.memo_cache_sentinel")?(ge=t.jsx("option",{value:"",children:"Pilih Hari"}),e[60]=ge):ge=e[60];let T;e[61]!==g?(T=g.map(lt),e[61]=g,e[62]=T):T=e[62];let A;e[63]!==l.day||e[64]!==$||e[65]!==T?(A=t.jsxs("select",{value:qe,onChange:$,style:h,children:[ge,T]}),e[63]=l.day,e[64]=$,e[65]=T,e[66]=A):A=e[66];let L;e[67]!==s.day||e[68]!==A?(L=t.jsx(te,{label:"Hari",error:Oe,children:A}),e[67]=s.day,e[68]=A,e[69]=L):L=e[69];let ue;e[70]===Symbol.for("react.memo_cache_sentinel")?(ue={display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},e[70]=ue):ue=e[70];let F;e[71]!==n?(F=i=>n("time_start",i.target.value),e[71]=n,e[72]=F):F=e[72];let N;e[73]!==l.time_start||e[74]!==F?(N=t.jsx("input",{type:"time",value:l.time_start,onChange:F,style:h}),e[73]=l.time_start,e[74]=F,e[75]=N):N=e[75];let H;e[76]!==s.time_start||e[77]!==N?(H=t.jsx(te,{label:"Jam Mulai",error:s.time_start,children:N}),e[76]=s.time_start,e[77]=N,e[78]=H):H=e[78];let P;e[79]!==n?(P=i=>n("time_end",i.target.value),e[79]=n,e[80]=P):P=e[80];let U;e[81]!==l.time_end||e[82]!==P?(U=t.jsx("input",{type:"time",value:l.time_end,onChange:P,style:h}),e[81]=l.time_end,e[82]=P,e[83]=U):U=e[83];let G;e[84]!==s.time_end||e[85]!==U?(G=t.jsx(te,{label:"Jam Selesai",error:s.time_end,children:U}),e[84]=s.time_end,e[85]=U,e[86]=G):G=e[86];let J;e[87]!==H||e[88]!==G?(J=t.jsxs("div",{style:ue,children:[H,G]}),e[87]=H,e[88]=G,e[89]=J):J=e[89];let ye;e[90]===Symbol.for("react.memo_cache_sentinel")?(ye={display:"flex",alignItems:"center",gap:"10px"},e[90]=ye):ye=e[90];let K;e[91]!==n?(K=i=>n("is_active",i.target.checked),e[91]=n,e[92]=K):K=e[92];let be;e[93]===Symbol.for("react.memo_cache_sentinel")?(be={width:"18px",height:"18px",accentColor:a.primary},e[93]=be):be=e[93];let M;e[94]!==l.is_active||e[95]!==K?(M=t.jsx("input",{type:"checkbox",checked:l.is_active,onChange:K,id:"is_active",style:be}),e[94]=l.is_active,e[95]=K,e[96]=M):M=e[96];let je;e[97]===Symbol.for("react.memo_cache_sentinel")?(je=t.jsx("label",{htmlFor:"is_active",style:{fontSize:"14px",color:a.primaryDark,fontWeight:500},children:"Aktif"}),e[97]=je):je=e[97];let O;e[98]!==M?(O=t.jsxs("div",{style:ye,children:[M,je]}),e[98]=M,e[99]=O):O=e[99];let q;e[100]!==z||e[101]!==W||e[102]!==B||e[103]!==L||e[104]!==J||e[105]!==O?(q=t.jsxs("div",{style:me,children:[z,W,B,L,J,O]}),e[100]=z,e[101]=W,e[102]=B,e[103]=L,e[104]=J,e[105]=O,e[106]=q):q=e[106];let _e;e[107]===Symbol.for("react.memo_cache_sentinel")?(_e={display:"flex",gap:"10px",marginTop:"20px"},e[107]=_e):_e=e[107];let Se;e[108]===Symbol.for("react.memo_cache_sentinel")?(Se=t.jsxs(Xe,{href:"/admin/extracurriculars",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",padding:"12px",borderRadius:"12px",backgroundColor:"#f5f5f5",color:"#666",fontWeight:600,fontSize:"14px",textDecoration:"none"},children:[t.jsx(Ye,{size:16})," Batal"]}),e[108]=Se):Se=e[108];const Be=j?"not-allowed":"pointer",$e=j?.7:1;let Q;e[109]!==Be||e[110]!==$e?(Q={flex:2,display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",padding:"12px",borderRadius:"12px",background:`linear-gradient(135deg, ${a.primary}, ${a.primaryLight})`,color:"#fff",fontWeight:600,fontSize:"14px",border:"none",cursor:Be,opacity:$e,boxShadow:"0 4px 12px rgba(13,110,63,0.2)"},e[109]=Be,e[110]=$e,e[111]=Q):Q=e[111];let ve;e[112]===Symbol.for("react.memo_cache_sentinel")?(ve=t.jsx(it,{size:16}),e[112]=ve):ve=e[112];const Te=j?"Menyimpan...":"Simpan";let V;e[113]!==j||e[114]!==Q||e[115]!==Te?(V=t.jsxs("div",{style:_e,children:[Se,t.jsxs("button",{type:"submit",disabled:j,style:Q,children:[ve," ",Te]})]}),e[113]=j,e[114]=Q,e[115]=Te,e[116]=V):V=e[116];let X;e[117]!==q||e[118]!==V?(X=t.jsxs("div",{style:pe,children:[xe,q,V]}),e[117]=q,e[118]=V,e[119]=X):X=e[119];let Y;e[120]!==We||e[121]!==X?(Y=t.jsx("form",{onSubmit:We,children:X}),e[120]=We,e[121]=X,e[122]=Y):Y=e[122];let Z;e[123]!==p||e[124]!==d||e[125]!==ie||e[126]!==S||e[127]!==_||e[128]!==c||e[129]!==De||e[130]!==Ie||e[131]!==x?(Z=p&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"20px",overflow:"hidden",marginBottom:"20px",boxShadow:"0 2px 12px rgba(13,110,63,0.06)",border:"1px solid rgba(13,110,63,0.08)"},children:[t.jsxs("div",{style:{padding:"16px 20px",borderBottom:"1px solid rgba(13,110,63,0.06)",display:"flex",alignItems:"center",gap:"10px"},children:[t.jsx(et,{size:18,color:a.gold}),t.jsxs("h2",{style:{fontWeight:600,color:a.primaryDark,margin:0,fontSize:"15px"},children:["Siswa Terdaftar (",c.length,")"]})]}),c.length>0?t.jsx("div",{children:c.map((i,u)=>t.jsxs("div",{style:{padding:"14px 20px",borderBottom:u<c.length-1?"1px solid rgba(0,0,0,0.04)":"none"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"8px"},children:[t.jsxs("div",{children:[t.jsx("p",{style:{fontWeight:600,color:a.primaryDark,margin:0,fontSize:"14px"},children:i.student.name}),t.jsxs("p",{style:{fontSize:"12px",color:"#999",margin:"2px 0 0"},children:["NIS: ",i.student.nis]})]}),t.jsxs("div",{style:{display:"flex",gap:"6px",alignItems:"center"},children:[i.grade&&t.jsx("span",{style:{padding:"3px 10px",borderRadius:"8px",fontSize:"12px",fontWeight:700,backgroundColor:"rgba(13,110,63,0.1)",color:a.primary},children:i.grade}),t.jsx("button",{onClick:()=>{Le(ie===i.id?null:i.id),Fe(i.grade||""),Ne(i.description||"")},style:{padding:"4px 10px",borderRadius:"8px",fontSize:"11px",backgroundColor:"rgba(13,110,63,0.08)",color:a.primary,border:"none",cursor:"pointer",fontWeight:600},children:ie===i.id?"Batal":"Nilai"}),t.jsx("button",{onClick:()=>Ge(i.id),style:{width:"28px",height:"28px",borderRadius:"8px",backgroundColor:"rgba(239,68,68,0.08)",display:"flex",alignItems:"center",justifyContent:"center",border:"none",cursor:"pointer"},children:t.jsx(tt,{size:12,color:"#dc2626"})})]})]}),ie===i.id&&t.jsxs("div",{style:{padding:"12px",backgroundColor:"#fafafa",borderRadius:"12px",display:"grid",gap:"10px"},children:[t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 2fr",gap:"10px"},children:[t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:"11px",fontWeight:600,color:"#888"},children:"Nilai"}),t.jsxs("select",{value:_,onChange:re=>Fe(re.target.value),style:{...h,padding:"8px 12px",fontSize:"13px"},children:[t.jsx("option",{value:"",children:"-"}),["A","B","C","D","E"].map(rt)]})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:"11px",fontWeight:600,color:"#888"},children:"Keterangan"}),t.jsx("input",{type:"text",value:S,onChange:re=>Ne(re.target.value),placeholder:"Catatan singkat...",style:{...h,padding:"8px 12px",fontSize:"13px"}})]})]}),t.jsx("button",{onClick:()=>Ie(i.id),style:{padding:"8px",borderRadius:"10px",background:`linear-gradient(135deg, ${a.primary}, ${a.primaryLight})`,color:"#fff",fontWeight:600,fontSize:"13px",border:"none",cursor:"pointer"},children:"Simpan Nilai"})]})]},i.id))}):t.jsx("div",{style:{padding:"32px 20px",textAlign:"center"},children:t.jsx("p",{style:{color:"#ccc",fontSize:"13px",margin:0},children:"Belum ada siswa terdaftar"})})]}),d.length>0&&t.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"20px",overflow:"hidden",boxShadow:"0 2px 12px rgba(13,110,63,0.06)",border:"1px solid rgba(13,110,63,0.08)"},children:[t.jsxs("div",{style:{padding:"16px 20px",borderBottom:"1px solid rgba(13,110,63,0.06)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[t.jsx(He,{size:18,color:a.primary}),t.jsx("h2",{style:{fontWeight:600,color:a.primaryDark,margin:0,fontSize:"15px"},children:"Tambah Siswa"})]}),x.length>0&&t.jsxs("button",{onClick:De,style:{padding:"8px 16px",borderRadius:"10px",background:`linear-gradient(135deg, ${a.primary}, ${a.primaryLight})`,color:"#fff",fontWeight:600,fontSize:"12px",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",boxShadow:"0 4px 12px rgba(13,110,63,0.2)"},children:[t.jsx(He,{size:14}),"Daftarkan (",x.length,")"]})]}),t.jsx("div",{style:{maxHeight:"300px",overflow:"auto"},children:d.map((i,u)=>t.jsxs("div",{onClick:()=>Je(i.id),style:{padding:"12px 20px",display:"flex",alignItems:"center",gap:"12px",borderBottom:u<d.length-1?"1px solid rgba(0,0,0,0.04)":"none",cursor:"pointer",backgroundColor:x.includes(i.id)?"rgba(13,110,63,0.04)":"transparent",transition:"background-color 0.2s"},children:[t.jsx("input",{type:"checkbox",checked:x.includes(i.id),readOnly:!0,style:{width:"16px",height:"16px",accentColor:a.primary}}),t.jsxs("div",{children:[t.jsx("p",{style:{fontWeight:500,color:a.primaryDark,margin:0,fontSize:"13px"},children:i.name}),t.jsxs("p",{style:{fontSize:"11px",color:"#999",margin:"2px 0 0"},children:["NIS: ",i.nis]})]})]},i.id))})]})]}),e[123]=p,e[124]=d,e[125]=ie,e[126]=S,e[127]=_,e[128]=c,e[129]=De,e[130]=Ie,e[131]=x,e[132]=Z):Z=e[132];let ee;e[133]!==Y||e[134]!==Z?(ee=t.jsxs("div",{style:ce,children:[Y,Z]}),e[133]=Y,e[134]=Z,e[135]=ee):ee=e[135];let ke;return e[136]!==v||e[137]!==ee?(ke=t.jsxs(Ze,{title:"Edit Ekstrakurikuler",showBack:!0,backUrl:"/admin/extracurriculars",children:[v,ee]}),e[136]=v,e[137]=ee,e[138]=ke):ke=e[138],ke}function rt(o){return t.jsx("option",{value:o,children:o},o)}function lt(o){return t.jsx("option",{value:o,children:o},o)}function nt(o){return t.jsx("option",{value:o.id,children:o.name},o.id)}function st(o){confirm("Keluarkan siswa ini dari ekstrakurikuler?")&&Ae.delete(`/admin/extracurricular-enrollments/${o}`,{preserveState:!1})}function te(o){const e=Pe.c(9),{label:r,error:m,children:g}=o;let c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c={fontSize:"12px",fontWeight:600,color:"#888",display:"block",marginBottom:"6px"},e[0]=c):c=e[0];let d;e[1]!==r?(d=t.jsx("label",{style:c,children:r}),e[1]=r,e[2]=d):d=e[2];let p;e[3]!==m?(p=m&&t.jsx("p",{style:{fontSize:"12px",color:"#dc2626",marginTop:"4px"},children:m}),e[3]=m,e[4]=p):p=e[4];let f;return e[5]!==g||e[6]!==d||e[7]!==p?(f=t.jsxs("div",{children:[d,g,p]}),e[5]=g,e[6]=d,e[7]=p,e[8]=f):f=e[8],f}export{jt as default};
