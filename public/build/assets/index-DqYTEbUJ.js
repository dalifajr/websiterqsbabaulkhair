import{c as ne,a as Z,u as ce,j as t,L as q,r as se,H as me}from"./app-Ci7CDRNd.js";import{A as oe}from"./mobile-layout-C3OyDd1n.js";import{S as de}from"./square-pen-DDg2pwF-.js";import{T as xe}from"./trash-2-Dx7FgztY.js";import{U as ee}from"./users-vzg2hPAy.js";import{U as te}from"./user-plus-CwybRWvD.js";import{P as fe}from"./plus-CK3fh7d-.js";import{c as ae}from"./graduation-cap-Dz_krzqH.js";import{D as he}from"./download-XHoHftin.js";import{U as ue}from"./upload-CIVEIdb-.js";import{S as pe}from"./search-C2AdsMvH.js";/* empty css            */import"./app-sidebar-CPzjeIVL.js";import"./index-BLUAye1L.js";import"./x-B-c32jvu.js";import"./index-i1tW4-ja.js";import"./layout-dashboard-CjqitNLP.js";const je=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],Ne=ae("UserCheck",je);const ve=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],be=ae("UserX",ve);function Ye(B){const e=ne.c(62),{students:a,stats:E,filters:le}=B,[l,re]=Z.useState(le?.search||""),[z,v]=Z.useState(!1);let b;e[0]===Symbol.for("react.memo_cache_sentinel")?(b={file:null},e[0]=b):b=e[0];const{data:R,setData:V,post:X,processing:y,errors:g,reset:G}=ce(b);let _;e[1]!==l?(_=s=>{s.preventDefault(),se.get("/admin/students",{search:l},{preserveState:!0})},e[1]=l,e[2]=_):_=e[2];const J=_,ie=ye;let w;e[3]!==X||e[4]!==G?(w=s=>{s.preventDefault(),X("/admin/students/import",{onSuccess:()=>{v(!1),G()}})},e[3]=X,e[4]=G,e[5]=w):w=e[5];const K=w;let S;e[6]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsx(fe,{className:"w-6 h-6"}),e[6]=S):S=e[6];let k;e[7]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsx(me,{title:"Data Siswa"}),e[7]=k):k=e[7];let D;e[8]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsx("div",{className:"w-10 h-10 mx-auto mb-2 rounded-xl bg-primary/10 flex items-center justify-center",children:t.jsx(ee,{className:"w-5 h-5 text-primary"})}),e[8]=D):D=e[8];const O=E?.total||0;let r;e[9]!==O?(r=t.jsx("p",{className:"text-2xl font-semibold text-on-surface",children:O}),e[9]=O,e[10]=r):r=e[10];let U;e[11]===Symbol.for("react.memo_cache_sentinel")?(U=t.jsx("p",{className:"text-xs text-on-surface-variant mt-1",children:"Total"}),e[11]=U):U=e[11];let i;e[12]!==r?(i=t.jsxs("div",{className:"m3-card-elevated text-center",children:[D,r,U]}),e[12]=r,e[13]=i):i=e[13];let C;e[14]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx("div",{className:"w-10 h-10 mx-auto mb-2 rounded-xl bg-chart-3/10 flex items-center justify-center",children:t.jsx(Ne,{className:"w-5 h-5 text-chart-3"})}),e[14]=C):C=e[14];const Q=E?.active||0;let n;e[15]!==Q?(n=t.jsx("p",{className:"text-2xl font-semibold text-on-surface",children:Q}),e[15]=Q,e[16]=n):n=e[16];let I;e[17]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx("p",{className:"text-xs text-on-surface-variant mt-1",children:"Aktif"}),e[17]=I):I=e[17];let c;e[18]!==n?(c=t.jsxs("div",{className:"m3-card-elevated text-center",children:[C,n,I]}),e[18]=n,e[19]=c):c=e[19];let $;e[20]===Symbol.for("react.memo_cache_sentinel")?($=t.jsx("div",{className:"w-10 h-10 mx-auto mb-2 rounded-xl bg-chart-5/10 flex items-center justify-center",children:t.jsx(be,{className:"w-5 h-5 text-chart-5"})}),e[20]=$):$=e[20];const W=E?.inactive||0;let m;e[21]!==W?(m=t.jsx("p",{className:"text-2xl font-semibold text-on-surface",children:W}),e[21]=W,e[22]=m):m=e[22];let A;e[23]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx("p",{className:"text-xs text-on-surface-variant mt-1",children:"Nonaktif"}),e[23]=A):A=e[23];let o;e[24]!==m?(o=t.jsxs("div",{className:"m3-card-elevated text-center",children:[$,m,A]}),e[24]=m,e[25]=o):o=e[25];let d;e[26]!==i||e[27]!==c||e[28]!==o?(d=t.jsxs("div",{className:"grid grid-cols-3 gap-3 m3-stagger",children:[i,c,o]}),e[26]=i,e[27]=c,e[28]=o,e[29]=d):d=e[29];let L,T;e[30]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsxs("a",{href:"/admin/students/template/download",className:"m3-button-outlined flex-1",children:[t.jsx(he,{className:"w-4 h-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Template"})]}),T=()=>v(!0),e[30]=L,e[31]=T):(L=e[30],T=e[31]);let H;e[32]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsxs("button",{onClick:T,className:"m3-button-tonal flex-1",children:[t.jsx(ue,{className:"w-4 h-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Import"})]}),e[32]=H):H=e[32];let P;e[33]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsxs("div",{className:"flex gap-3",children:[L,H,t.jsxs(q,{href:"/admin/students/create",className:"m3-button-filled flex-1 hidden md:inline-flex",children:[t.jsx(te,{className:"w-4 h-4"}),"Tambah"]})]}),e[33]=P):P=e[33];let F;e[34]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsx(pe,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-on-surface-variant"}),e[34]=F):F=e[34];let M;e[35]===Symbol.for("react.memo_cache_sentinel")?(M=s=>re(s.target.value),e[35]=M):M=e[35];let x;e[36]!==l?(x=t.jsx("input",{type:"text",placeholder:"Cari siswa...",value:l,onChange:M,className:"m3-input pl-12"}),e[36]=l,e[37]=x):x=e[37];let f;e[38]!==J||e[39]!==x?(f=t.jsxs("form",{onSubmit:J,className:"relative",children:[F,x]}),e[38]=J,e[39]=x,e[40]=f):f=e[40];let h;e[41]!==a.data?(h=t.jsx("div",{className:"m3-card-elevated p-0 overflow-hidden",children:a.data.length>0?t.jsx("div",{className:"divide-y divide-border",children:a.data.map((s,N)=>t.jsxs("div",{className:"m3-list-item animate-m3-fade",style:{animationDelay:`${N*50}ms`},children:[t.jsx("div",{className:"w-11 h-11 rounded-full bg-secondary flex items-center justify-center flex-shrink-0",children:t.jsx("span",{className:"text-sm font-medium text-secondary-foreground",children:s.name.charAt(0)})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-medium text-on-surface truncate",children:s.name}),t.jsxs("p",{className:"text-sm text-on-surface-variant",children:["NIS: ",s.nis," â€¢ ",s.gender==="L"?"Laki-laki":"Perempuan"]})]}),t.jsx("span",{className:`m3-chip-filled text-xs ${s.status==="active"?"bg-chart-3/15 text-chart-3":"bg-chart-5/15 text-chart-5"}`,children:s.status==="active"?"Aktif":"Nonaktif"}),t.jsxs("div",{className:"flex gap-1 ml-2",children:[t.jsx(q,{href:`/admin/students/${s.id}/edit`,className:`w-9 h-9 rounded-full flex items-center justify-center \r
                                                     hover:bg-surface-variant transition-colors`,children:t.jsx(de,{className:"w-4 h-4 text-on-surface-variant"})}),t.jsx("button",{onClick:()=>ie(s.id,s.name),className:`w-9 h-9 rounded-full flex items-center justify-center \r
                                                     hover:bg-destructive/10 transition-colors`,children:t.jsx(xe,{className:"w-4 h-4 text-destructive"})})]})]},s.id))}):t.jsxs("div",{className:"p-12 text-center",children:[t.jsx(ee,{className:"w-16 h-16 mx-auto text-on-surface-variant/30 mb-4"}),t.jsx("p",{className:"text-lg font-medium text-on-surface",children:"Belum ada data siswa"}),t.jsx("p",{className:"text-on-surface-variant mt-1",children:"Tambahkan siswa pertama Anda"}),t.jsxs(q,{href:"/admin/students/create",className:"m3-button-filled mt-6 inline-flex",children:[t.jsx(te,{className:"w-4 h-4"}),"Tambah Siswa"]})]})}),e[41]=a.data,e[42]=h):h=e[42];let u;e[43]!==l||e[44]!==a.current_page||e[45]!==a.last_page?(u=a.last_page>1&&t.jsx("div",{className:"flex justify-center gap-2",children:Array.from({length:a.last_page},(s,N)=>t.jsx(q,{href:`/admin/students?page=${N+1}&search=${l}`,className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-medium transition-colors ${a.current_page===N+1?"bg-primary text-primary-foreground":"hover:bg-surface-variant text-on-surface-variant"}`,children:N+1},N+1))}),e[43]=l,e[44]=a.current_page,e[45]=a.last_page,e[46]=u):u=e[46];let p;e[47]!==d||e[48]!==f||e[49]!==h||e[50]!==u?(p=t.jsxs("div",{className:"m3-container py-6 space-y-6",children:[d,P,f,h,u]}),e[47]=d,e[48]=f,e[49]=h,e[50]=u,e[51]=p):p=e[51];let j;e[52]!==R||e[53]!==g||e[54]!==K||e[55]!==y||e[56]!==V||e[57]!==z?(j=z&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"m3-dialog-overlay",onClick:()=>v(!1)}),t.jsxs("div",{className:"m3-dialog animate-m3-enter",children:[t.jsx("h3",{className:"text-xl font-semibold text-on-surface mb-2",children:"Import Data Siswa"}),t.jsx("p",{className:"text-on-surface-variant text-sm mb-6",children:"Upload file CSV dengan format yang sesuai template."}),t.jsxs("form",{onSubmit:K,className:"space-y-5",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-on-surface-variant",children:"File CSV"}),t.jsx("input",{type:"file",accept:".csv",onChange:s=>V("file",s.target.files?.[0]||null),className:"mt-2 w-full p-3 rounded-xl border border-border bg-surface-container text-sm"}),g.file&&t.jsx("p",{className:"text-xs text-destructive mt-2",children:g.file})]}),t.jsx("p",{className:"text-xs text-on-surface-variant bg-surface-variant/50 p-3 rounded-xl",children:"Format: nis, nama, jenis_kelamin (L/P), tanggal_lahir (YYYY-MM-DD), status (active/inactive)"}),t.jsxs("div",{className:"flex gap-3 pt-2",children:[t.jsx("button",{type:"button",onClick:()=>v(!1),className:"m3-button-text flex-1",children:"Batal"}),t.jsx("button",{type:"submit",disabled:y||!R.file,className:"m3-button-filled flex-1",children:y?"Mengimpor...":"Import"})]})]})]})]}),e[52]=R,e[53]=g,e[54]=K,e[55]=y,e[56]=V,e[57]=z,e[58]=j):j=e[58];let Y;return e[59]!==p||e[60]!==j?(Y=t.jsxs(oe,{title:"Data Siswa",showBack:!0,backUrl:"/dashboard",showFab:!0,fabIcon:S,fabHref:"/admin/students/create",children:[k,p,j]}),e[59]=p,e[60]=j,e[61]=Y):Y=e[61],Y}function ye(B,e){confirm(`Hapus siswa ${e}?`)&&se.delete(`/admin/students/${B}`)}export{Ye as default};
