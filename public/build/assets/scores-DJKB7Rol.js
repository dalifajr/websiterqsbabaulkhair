import{c as H,j as t,H as I,L as M,r as P}from"./app-LrsKmx93.js";import{C as T,a as A,b as R,c as V}from"./card-DUNgD_BV.js";import{B as E}from"./badge-D71p1yeT.js";import{b as k,c as O,S as $,a as F,d as G}from"./select-CKnaOWM9.js";import{a as U,A as q}from"./mobile-layout-X8LYD6LL.js";import{c as z}from"./academic-Baw6BGIT.js";import{T as J}from"./trending-up-FEBq2wrR.js";import{M as K}from"./minus-CAQ0tZ1n.js";import{T as Q}from"./trending-down-BtcHkWaY.js";/* empty css            */import"./index-p0syaNOC.js";import"./app-sidebar-BJ8KpaQ-.js";import"./x-Db2KilOX.js";import"./graduation-cap--arkKicv.js";import"./index-DFJIUhka.js";import"./layout-dashboard-DVszlXo4.js";import"./users-DpbnXvSk.js";import"./index-MyzOAZUl.js";import"./chevron-down-BtslHCse.js";import"./check-BK6fB0Ik.js";function _e(s){const e=H.c(25),{student:r,scores:n,terms:v,filters:_}=s,L=te,B=ee,D=Z;let f;e[0]!==n?(f=Object.keys(n),e[0]=n,e[1]=f):f=e[1];const p=f;let u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=t.jsx(I,{title:"Nilai Siswa"}),e[2]=u):u=e[2];let h;e[3]===Symbol.for("react.memo_cache_sentinel")?(h=route("parent.dashboard"),e[3]=h):h=e[3];let j,g;e[4]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsx(M,{href:h,className:"rounded-full p-2 hover:bg-muted",children:t.jsx(U,{className:"h-5 w-5"})}),g=t.jsx("h1",{className:"text-xl font-bold",children:"Nilai"}),e[4]=j,e[5]=g):(j=e[4],g=e[5]);let i;e[6]!==r.name?(i=t.jsxs("div",{className:"flex items-center gap-3",children:[j,t.jsxs("div",{children:[g,t.jsx("p",{className:"text-sm text-muted-foreground",children:r.name})]})]}),e[6]=r.name,e[7]=i):i=e[7];let l;e[8]!==_.term_id?(l=_.term_id?.toString()||"",e[8]=_.term_id,e[9]=l):l=e[9];let S;e[10]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsx(k,{children:t.jsx(O,{placeholder:"Pilih Semester"})}),e[10]=S):S=e[10];let c;e[11]!==v?(c=v.map(Y),e[11]=v,e[12]=c):c=e[12];let m;e[13]!==c?(m=t.jsx($,{children:c}),e[13]=c,e[14]=m):m=e[14];let o;e[15]!==m||e[16]!==l?(o=t.jsxs(F,{value:l,onValueChange:L,children:[S,m]}),e[15]=m,e[16]=l,e[17]=o):o=e[17];let d;e[18]!==n||e[19]!==p?(d=p.length===0?t.jsx(T,{children:t.jsx(A,{className:"py-8 text-center",children:t.jsx("p",{className:"text-muted-foreground",children:"Belum ada nilai di semester ini"})})}):p.map(y=>{const x=n[y],b=x.reduce(X,0)/x.length,w=x.reduce(W,0)/x.length,C=b/w*100;return t.jsxs(T,{children:[t.jsx(R,{className:"pb-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(V,{className:"text-base",children:y}),t.jsxs("div",{className:"flex items-center gap-1",children:[C>=70?t.jsx(J,{className:"h-4 w-4 text-green-600"}):C>=50?t.jsx(K,{className:"h-4 w-4 text-yellow-600"}):t.jsx(Q,{className:"h-4 w-4 text-red-600"}),t.jsx("span",{className:`text-sm font-medium ${B(b,w)}`,children:b.toFixed(1)})]})]})}),t.jsx(A,{className:"space-y-2",children:x.map(a=>t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-muted/50 p-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:a.assessment?.name}),t.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[t.jsx(E,{variant:"outline",className:"text-xs",children:z[a.assessment?.category||"tugas"]}),a.assessment?.date&&t.jsx("span",{children:new Date(a.assessment.date).toLocaleDateString("id-ID")})]})]}),t.jsxs(E,{variant:D(a.score,a.assessment?.max_score||100),children:[a.score,"/",a.assessment?.max_score]})]},a.id))})]},y)}),e[18]=n,e[19]=p,e[20]=d):d=e[20];let N;return e[21]!==o||e[22]!==d||e[23]!==i?(N=t.jsxs(q,{children:[u,t.jsxs("div",{className:"space-y-4 p-4",children:[i,o,d]})]}),e[21]=o,e[22]=d,e[23]=i,e[24]=N):N=e[24],N}function W(s,e){return s+(e.assessment?.max_score||100)}function X(s,e){return s+e.score}function Y(s){return t.jsxs(G,{value:s.id.toString(),children:[s.name," - ",s.academic_year?.name]},s.id)}function Z(s,e){const r=s/e*100;return r>=70?"default":r>=50?"secondary":"destructive"}function ee(s,e){const r=s/e*100;return r>=80?"text-green-600":r>=60?"text-yellow-600":"text-red-600"}function te(s){P.get(route("parent.scores"),{term_id:s},{preserveState:!0})}export{_e as default};
