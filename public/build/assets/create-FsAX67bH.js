import{c as Y,a as Z,u as ee,j as t,H as te}from"./app-sW6fCb4y.js";import{A as se}from"./mobile-layout-DGQtAksw.js";import{I as X}from"./input-CIb__f9w.js";import{L as S}from"./label-BWpvdgKZ.js";import{T as le}from"./textarea-CnJjBKqR.js";import{S as ie}from"./switch-D_6rFv74.js";import{U as ae}from"./upload-ChIZam36.js";import{S as re}from"./save-C8X3uZwK.js";/* empty css            */import"./app-sidebar-CI1fYkiJ.js";import"./index-DL5FI1V4.js";import"./x-BJgijQIp.js";import"./graduation-cap-ClVqnEvr.js";import"./index-DHgL46HU.js";import"./layout-dashboard-DKQQ2k74.js";import"./users-bKj1HJXE.js";import"./index-CHtKh_iC.js";function ke(){const e=Y.c(76),[C,V]=Z.useState(null);let D;e[0]===Symbol.for("react.memo_cache_sentinel")?(D={title:"",description:"",image:null,event_date:new Date().toISOString().split("T")[0],is_published:!0},e[0]=D):D=e[0];const{data:i,setData:l,post:$,processing:F,errors:s,progress:P}=ee(D);let T;e[1]!==l?(T=a=>{const Q=a.target.files?.[0];Q&&(l("image",Q),V(URL.createObjectURL(Q)))},e[1]=l,e[2]=T):T=e[2];const A=T;let K;e[3]!==$?(K=a=>{a.preventDefault(),$("/admin/gallery-posts",{forceFormData:!0})},e[3]=$,e[4]=K):K=e[4];const H=K;let L;e[5]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsx(te,{title:"Tambah Dokumentasi Kegiatan"}),e[5]=L):L=e[5];let U;e[6]===Symbol.for("react.memo_cache_sentinel")?(U=t.jsx(S,{children:"Foto Kegiatan *"}),e[6]=U):U=e[6];const J=`relative border-2 border-dashed rounded-2xl overflow-hidden transition-colors ${s.image?"border-destructive":"border-muted-foreground/25 hover:border-primary/50"}`;let r;e[7]!==A||e[8]!==C||e[9]!==l?(r=C?t.jsxs("div",{className:"relative aspect-[16/9]",children:[t.jsx("img",{src:C,alt:"Preview",className:"w-full h-full object-cover"}),t.jsx("button",{type:"button",onClick:()=>{V(null),l("image",null)},className:"absolute top-2 right-2 bg-black/60 text-white rounded-full w-8 h-8 flex items-center justify-center text-sm hover:bg-black/80",children:"âœ•"})]}):t.jsxs("label",{className:"flex flex-col items-center justify-center py-12 cursor-pointer",children:[t.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mb-3",children:t.jsx(ae,{className:"w-7 h-7 text-primary"})}),t.jsx("p",{className:"text-sm font-medium",children:"Klik untuk upload foto"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"JPG, PNG, atau WebP (maks. 10MB)"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Gambar akan dikompresi otomatis"}),t.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/webp",onChange:A,className:"hidden"})]}),e[7]=A,e[8]=C,e[9]=l,e[10]=r):r=e[10];let n;e[11]!==J||e[12]!==r?(n=t.jsx("div",{className:J,children:r}),e[11]=J,e[12]=r,e[13]=n):n=e[13];let o;e[14]!==P?(o=P&&t.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:t.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${P.percentage}%`}})}),e[14]=P,e[15]=o):o=e[15];let c;e[16]!==s.image?(c=s.image&&t.jsx("p",{className:"text-sm text-destructive",children:s.image}),e[16]=s.image,e[17]=c):c=e[17];let m;e[18]!==n||e[19]!==o||e[20]!==c?(m=t.jsxs("div",{className:"space-y-2",children:[U,n,o,c]}),e[18]=n,e[19]=o,e[20]=c,e[21]=m):m=e[21];let G;e[22]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx(S,{htmlFor:"title",children:"Judul Foto *"}),e[22]=G):G=e[22];let d;e[23]!==l?(d=a=>l("title",a.target.value),e[23]=l,e[24]=d):d=e[24];const O=s.title?"border-destructive":"";let p;e[25]!==i.title||e[26]!==d||e[27]!==O?(p=t.jsx(X,{id:"title",value:i.title,onChange:d,placeholder:"Contoh: Kegiatan Belajar Mengaji",className:O}),e[25]=i.title,e[26]=d,e[27]=O,e[28]=p):p=e[28];let u;e[29]!==s.title?(u=s.title&&t.jsx("p",{className:"text-sm text-destructive",children:s.title}),e[29]=s.title,e[30]=u):u=e[30];let f;e[31]!==p||e[32]!==u?(f=t.jsxs("div",{className:"space-y-2",children:[G,p,u]}),e[31]=p,e[32]=u,e[33]=f):f=e[33];let I;e[34]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx(S,{htmlFor:"event_date",children:"Tanggal Kegiatan *"}),e[34]=I):I=e[34];let h;e[35]!==l?(h=a=>l("event_date",a.target.value),e[35]=l,e[36]=h):h=e[36];const W=s.event_date?"border-destructive":"";let x;e[37]!==i.event_date||e[38]!==h||e[39]!==W?(x=t.jsx(X,{id:"event_date",type:"date",value:i.event_date,onChange:h,className:W}),e[37]=i.event_date,e[38]=h,e[39]=W,e[40]=x):x=e[40];let g;e[41]!==s.event_date?(g=s.event_date&&t.jsx("p",{className:"text-sm text-destructive",children:s.event_date}),e[41]=s.event_date,e[42]=g):g=e[42];let b;e[43]!==x||e[44]!==g?(b=t.jsxs("div",{className:"space-y-2",children:[I,x,g]}),e[43]=x,e[44]=g,e[45]=b):b=e[45];let R;e[46]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx(S,{htmlFor:"description",children:"Deskripsi Singkat"}),e[46]=R):R=e[46];let j;e[47]!==l?(j=a=>l("description",a.target.value),e[47]=l,e[48]=j):j=e[48];const q=s.description?"border-destructive":"";let v;e[49]!==i.description||e[50]!==j||e[51]!==q?(v=t.jsx(le,{id:"description",value:i.description,onChange:j,placeholder:"Deskripsi singkat tentang kegiatan...",rows:3,className:q}),e[49]=i.description,e[50]=j,e[51]=q,e[52]=v):v=e[52];let _;e[53]!==s.description?(_=s.description&&t.jsx("p",{className:"text-sm text-destructive",children:s.description}),e[53]=s.description,e[54]=_):_=e[54];let y;e[55]!==v||e[56]!==_?(y=t.jsxs("div",{className:"space-y-2",children:[R,v,_]}),e[55]=v,e[56]=_,e[57]=y):y=e[57];let B;e[58]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsxs("div",{children:[t.jsx(S,{children:"Publikasikan"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Tampilkan di halaman profil"})]}),e[58]=B):B=e[58];let N;e[59]!==l?(N=a=>l("is_published",a),e[59]=l,e[60]=N):N=e[60];let k;e[61]!==i.is_published||e[62]!==N?(k=t.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[B,t.jsx(ie,{checked:i.is_published,onCheckedChange:N})]}),e[61]=i.is_published,e[62]=N,e[63]=k):k=e[63];let E;e[64]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsx(re,{className:"w-5 h-5"}),e[64]=E):E=e[64];const z=F?"Mengupload...":"Simpan Dokumentasi";let w;e[65]!==F||e[66]!==z?(w=t.jsxs("button",{type:"submit",disabled:F,className:"m3-button-filled w-full",children:[E,z]}),e[65]=F,e[66]=z,e[67]=w):w=e[67];let M;return e[68]!==H||e[69]!==m||e[70]!==f||e[71]!==b||e[72]!==y||e[73]!==k||e[74]!==w?(M=t.jsxs(se,{title:"Tambah Dokumentasi",showBack:!0,backUrl:"/admin/gallery-posts",children:[L,t.jsx("div",{className:"m3-container py-6 space-y-6",children:t.jsxs("form",{onSubmit:H,className:"space-y-6",children:[m,f,b,y,k,w]})})]}),e[68]=H,e[69]=m,e[70]=f,e[71]=b,e[72]=y,e[73]=k,e[74]=w,e[75]=M):M=e[75],M}export{ke as default};
