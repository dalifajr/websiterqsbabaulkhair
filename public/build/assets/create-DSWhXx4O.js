import{c as Y,a as Z,u as ee,j as t,H as te}from"./app-BKRXp40Z.js";import{A as se}from"./mobile-layout-CLCTF93r.js";import{I as X}from"./input-uiOkEeJq.js";import{L as S}from"./label-4cRTQBkf.js";import{T as ie}from"./textarea-Yna8kcFW.js";import{S as le}from"./switch-Z5Rq6x7C.js";import{U as ae}from"./upload-CPvkALG_.js";import{S as re}from"./save-BHrAcMQz.js";/* empty css            */import"./app-sidebar-CYkn40d_.js";import"./index-BBXlvfNf.js";import"./x-CunSLndO.js";import"./graduation-cap-mM4L8sj4.js";import"./index-CHEM0tN0.js";import"./layout-dashboard-DfaYvmA7.js";import"./users-07rPhrSb.js";import"./index-D2ags-Xo.js";function we(){const e=Y.c(76),[P,V]=Z.useState(null);let C;e[0]===Symbol.for("react.memo_cache_sentinel")?(C={title:"",description:"",image:null,event_date:new Date().toISOString().split("T")[0],is_published:!0},e[0]=C):C=e[0];const{data:l,setData:i,post:M,processing:T,errors:s,progress:D}=ee(C);let F;e[1]!==i?(F=a=>{const q=a.target.files?.[0];q&&(i("image",q),V(URL.createObjectURL(q)))},e[1]=i,e[2]=F):F=e[2];const $=F;let L;e[3]!==M?(L=a=>{a.preventDefault(),M("/admin/achievement-posts",{forceFormData:!0})},e[3]=M,e[4]=L):L=e[4];const B=L;let U;e[5]===Symbol.for("react.memo_cache_sentinel")?(U=t.jsx(te,{title:"Tambah Prestasi Membanggakan"}),e[5]=U):U=e[5];let A;e[6]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx(S,{children:"Foto Prestasi *"}),e[6]=A):A=e[6];const K=`relative border-2 border-dashed rounded-2xl overflow-hidden transition-colors ${s.image?"border-destructive":"border-muted-foreground/25 hover:border-primary/50"}`;let r;e[7]!==$||e[8]!==P||e[9]!==i?(r=P?t.jsxs("div",{className:"relative aspect-[16/9]",children:[t.jsx("img",{src:P,alt:"Preview",className:"w-full h-full object-cover"}),t.jsx("button",{type:"button",onClick:()=>{V(null),i("image",null)},className:"absolute top-2 right-2 bg-black/60 text-white rounded-full w-8 h-8 flex items-center justify-center text-sm hover:bg-black/80",children:"âœ•"})]}):t.jsxs("label",{className:"flex flex-col items-center justify-center py-12 cursor-pointer",children:[t.jsx("div",{className:"w-16 h-16 rounded-full bg-amber-500/10 flex items-center justify-center mb-3",children:t.jsx(ae,{className:"w-7 h-7 text-amber-600"})}),t.jsx("p",{className:"text-sm font-medium",children:"Klik untuk upload foto"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"JPG, PNG, atau WebP (maks. 10MB)"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Gambar akan dikompresi otomatis"}),t.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/webp",onChange:$,className:"hidden"})]}),e[7]=$,e[8]=P,e[9]=i,e[10]=r):r=e[10];let n;e[11]!==K||e[12]!==r?(n=t.jsx("div",{className:K,children:r}),e[11]=K,e[12]=r,e[13]=n):n=e[13];let o;e[14]!==D?(o=D&&t.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:t.jsx("div",{className:"bg-amber-500 h-2 rounded-full transition-all",style:{width:`${D.percentage}%`}})}),e[14]=D,e[15]=o):o=e[15];let c;e[16]!==s.image?(c=s.image&&t.jsx("p",{className:"text-sm text-destructive",children:s.image}),e[16]=s.image,e[17]=c):c=e[17];let m;e[18]!==n||e[19]!==o||e[20]!==c?(m=t.jsxs("div",{className:"space-y-2",children:[A,n,o,c]}),e[18]=n,e[19]=o,e[20]=c,e[21]=m):m=e[21];let I;e[22]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx(S,{htmlFor:"title",children:"Judul Prestasi *"}),e[22]=I):I=e[22];let d;e[23]!==i?(d=a=>i("title",a.target.value),e[23]=i,e[24]=d):d=e[24];const O=s.title?"border-destructive":"";let p;e[25]!==l.title||e[26]!==d||e[27]!==O?(p=t.jsx(X,{id:"title",value:l.title,onChange:d,placeholder:"Contoh: Khatam Hafalan 1 Juz Al-Qur'an",className:O}),e[25]=l.title,e[26]=d,e[27]=O,e[28]=p):p=e[28];let u;e[29]!==s.title?(u=s.title&&t.jsx("p",{className:"text-sm text-destructive",children:s.title}),e[29]=s.title,e[30]=u):u=e[30];let f;e[31]!==p||e[32]!==u?(f=t.jsxs("div",{className:"space-y-2",children:[I,p,u]}),e[31]=p,e[32]=u,e[33]=f):f=e[33];let R;e[34]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx(S,{htmlFor:"event_date",children:"Tanggal Prestasi *"}),e[34]=R):R=e[34];let h;e[35]!==i?(h=a=>i("event_date",a.target.value),e[35]=i,e[36]=h):h=e[36];const z=s.event_date?"border-destructive":"";let x;e[37]!==l.event_date||e[38]!==h||e[39]!==z?(x=t.jsx(X,{id:"event_date",type:"date",value:l.event_date,onChange:h,className:z}),e[37]=l.event_date,e[38]=h,e[39]=z,e[40]=x):x=e[40];let b;e[41]!==s.event_date?(b=s.event_date&&t.jsx("p",{className:"text-sm text-destructive",children:s.event_date}),e[41]=s.event_date,e[42]=b):b=e[42];let v;e[43]!==x||e[44]!==b?(v=t.jsxs("div",{className:"space-y-2",children:[R,x,b]}),e[43]=x,e[44]=b,e[45]=v):v=e[45];let E;e[46]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsx(S,{htmlFor:"description",children:"Deskripsi Prestasi"}),e[46]=E):E=e[46];let g;e[47]!==i?(g=a=>i("description",a.target.value),e[47]=i,e[48]=g):g=e[48];const Q=s.description?"border-destructive":"";let j;e[49]!==l.description||e[50]!==g||e[51]!==Q?(j=t.jsx(ie,{id:"description",value:l.description,onChange:g,placeholder:"Deskripsi tentang prestasi yang diraih, nama-nama santri yang berprestasi, dll.",rows:4,className:Q}),e[49]=l.description,e[50]=g,e[51]=Q,e[52]=j):j=e[52];let _;e[53]!==s.description?(_=s.description&&t.jsx("p",{className:"text-sm text-destructive",children:s.description}),e[53]=s.description,e[54]=_):_=e[54];let N;e[55]!==j||e[56]!==_?(N=t.jsxs("div",{className:"space-y-2",children:[E,j,_]}),e[55]=j,e[56]=_,e[57]=N):N=e[57];let G;e[58]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsxs("div",{children:[t.jsx(S,{children:"Publikasikan"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Tampilkan di halaman profil"})]}),e[58]=G):G=e[58];let y;e[59]!==i?(y=a=>i("is_published",a),e[59]=i,e[60]=y):y=e[60];let w;e[61]!==l.is_published||e[62]!==y?(w=t.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[G,t.jsx(le,{checked:l.is_published,onCheckedChange:y})]}),e[61]=l.is_published,e[62]=y,e[63]=w):w=e[63];let H;e[64]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx(re,{className:"w-5 h-5"}),e[64]=H):H=e[64];const W=T?"Mengupload...":"Simpan Prestasi";let k;e[65]!==T||e[66]!==W?(k=t.jsxs("button",{type:"submit",disabled:T,className:"m3-button-filled w-full",children:[H,W]}),e[65]=T,e[66]=W,e[67]=k):k=e[67];let J;return e[68]!==B||e[69]!==m||e[70]!==f||e[71]!==v||e[72]!==N||e[73]!==w||e[74]!==k?(J=t.jsxs(se,{title:"Tambah Prestasi",showBack:!0,backUrl:"/admin/achievement-posts",children:[U,t.jsx("div",{className:"m3-container py-6 space-y-6",children:t.jsxs("form",{onSubmit:B,className:"space-y-6",children:[m,f,v,N,w,k]})})]}),e[68]=B,e[69]=m,e[70]=f,e[71]=v,e[72]=N,e[73]=w,e[74]=k,e[75]=J):J=e[75],J}export{we as default};
