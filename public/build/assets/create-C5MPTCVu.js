import{c as U,u as z,j as t,H as G}from"./app-BKRXp40Z.js";import{A as M}from"./mobile-layout-CLCTF93r.js";import{S as Q}from"./save-BHrAcMQz.js";/* empty css            */import"./app-sidebar-CYkn40d_.js";import"./index-BBXlvfNf.js";import"./x-CunSLndO.js";import"./graduation-cap-mM4L8sj4.js";import"./index-CHEM0tN0.js";import"./layout-dashboard-DfaYvmA7.js";import"./users-07rPhrSb.js";function re(n){const e=U.c(67),{students:R,termId:L}=n,$=L||"";let C;e[0]===Symbol.for("react.memo_cache_sentinel")?(C=new Date().toISOString().split("T"),e[0]=C):C=e[0];let P;e[1]!==$?(P={student_id:"",term_id:$,type:"achievement",description:"",date:C[0]},e[1]=$,e[2]=P):P=e[2];const{data:s,setData:l,post:J,processing:r,errors:a}=z(P);let T;e[3]!==J?(T=i=>{i.preventDefault(),J("/admin/behavioral-notes")},e[3]=J,e[4]=T):T=e[4];const K=T;let D;e[5]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsx(G,{title:"Tambah Catatan Perilaku"}),e[5]=D):D=e[5];let q;e[6]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsx("label",{className:"text-sm font-medium text-on-surface-variant",children:"Siswa"}),e[6]=q):q=e[6];const O=s.student_id;let m;e[7]!==l?(m=i=>l("student_id",i.target.value),e[7]=l,e[8]=m):m=e[8];let A;e[9]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx("option",{value:"",children:"Pilih siswa..."}),e[9]=A):A=e[9];let c;e[10]!==R?(c=R.map(V),e[10]=R,e[11]=c):c=e[11];let d;e[12]!==s.student_id||e[13]!==c||e[14]!==m?(d=t.jsxs("select",{value:O,onChange:m,className:"m3-input mt-2",required:!0,children:[A,c]}),e[12]=s.student_id,e[13]=c,e[14]=m,e[15]=d):d=e[15];let o;e[16]!==a.student_id?(o=a.student_id&&t.jsx("p",{className:"text-sm text-destructive mt-2",children:a.student_id}),e[16]=a.student_id,e[17]=o):o=e[17];let u;e[18]!==d||e[19]!==o?(u=t.jsxs("div",{children:[q,d,o]}),e[18]=d,e[19]=o,e[20]=u):u=e[20];let B;e[21]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsx("label",{className:"text-sm font-medium text-on-surface-variant",children:"Jenis Catatan"}),e[21]=B):B=e[21];let E;e[22]===Symbol.for("react.memo_cache_sentinel")?(E=[{value:"achievement",label:"Prestasi",active:"bg-green-600 text-white",inactive:"bg-green-100 text-green-700"},{value:"violation",label:"Pelanggaran",active:"bg-red-600 text-white",inactive:"bg-red-100 text-red-700"},{value:"counseling",label:"Konseling",active:"bg-blue-600 text-white",inactive:"bg-blue-100 text-blue-700"}],e[22]=E):E=e[22];let f;e[23]!==s.type||e[24]!==l?(f=t.jsx("div",{className:"flex gap-2 mt-2",children:E.map(i=>t.jsx("button",{type:"button",onClick:()=>l("type",i.value),className:`flex-1 py-2.5 rounded-xl text-sm font-medium transition-all ${s.type===i.value?i.active:i.inactive}`,children:i.label},i.value))}),e[23]=s.type,e[24]=l,e[25]=f):f=e[25];let p;e[26]!==a.type?(p=a.type&&t.jsx("p",{className:"text-sm text-destructive mt-2",children:a.type}),e[26]=a.type,e[27]=p):p=e[27];let x;e[28]!==f||e[29]!==p?(x=t.jsxs("div",{children:[B,f,p]}),e[28]=f,e[29]=p,e[30]=x):x=e[30];let F;e[31]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsx("label",{className:"text-sm font-medium text-on-surface-variant",children:"Tanggal"}),e[31]=F):F=e[31];let h;e[32]!==l?(h=i=>l("date",i.target.value),e[32]=l,e[33]=h):h=e[33];let v;e[34]!==s.date||e[35]!==h?(v=t.jsx("input",{type:"date",value:s.date,onChange:h,className:"m3-input mt-2",required:!0}),e[34]=s.date,e[35]=h,e[36]=v):v=e[36];let b;e[37]!==a.date?(b=a.date&&t.jsx("p",{className:"text-sm text-destructive mt-2",children:a.date}),e[37]=a.date,e[38]=b):b=e[38];let j;e[39]!==v||e[40]!==b?(j=t.jsxs("div",{children:[F,v,b]}),e[39]=v,e[40]=b,e[41]=j):j=e[41];let H;e[42]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx("label",{className:"text-sm font-medium text-on-surface-variant",children:"Deskripsi"}),e[42]=H):H=e[42];let _;e[43]!==l?(_=i=>l("description",i.target.value),e[43]=l,e[44]=_):_=e[44];let g;e[45]!==s.description||e[46]!==_?(g=t.jsx("textarea",{value:s.description,onChange:_,className:"m3-input mt-2 min-h-[120px]",placeholder:"Tuliskan catatan perilaku siswa...",required:!0}),e[45]=s.description,e[46]=_,e[47]=g):g=e[47];let y;e[48]!==a.description?(y=a.description&&t.jsx("p",{className:"text-sm text-destructive mt-2",children:a.description}),e[48]=a.description,e[49]=y):y=e[49];let N;e[50]!==g||e[51]!==y?(N=t.jsxs("div",{children:[H,g,y]}),e[50]=g,e[51]=y,e[52]=N):N=e[52];let S;e[53]!==u||e[54]!==x||e[55]!==j||e[56]!==N?(S=t.jsxs("div",{className:"m3-card-elevated space-y-5",children:[u,x,j,N]}),e[53]=u,e[54]=x,e[55]=j,e[56]=N,e[57]=S):S=e[57];let w;e[58]!==r?(w=r?t.jsx("div",{className:"w-5 h-5 border-2 border-primary-foreground/30 border-t-primary-foreground rounded-full animate-spin"}):t.jsxs(t.Fragment,{children:[t.jsx(Q,{className:"w-5 h-5"}),"Simpan"]}),e[58]=r,e[59]=w):w=e[59];let k;e[60]!==r||e[61]!==w?(k=t.jsx("button",{type:"submit",disabled:r,className:"w-full m3-button-filled h-12",children:w}),e[60]=r,e[61]=w,e[62]=k):k=e[62];let I;return e[63]!==K||e[64]!==S||e[65]!==k?(I=t.jsxs(M,{title:"Tambah Catatan Perilaku",showBack:!0,backUrl:"/admin/behavioral-notes",children:[D,t.jsx("div",{className:"m3-container py-6",children:t.jsxs("form",{onSubmit:K,className:"max-w-xl mx-auto space-y-6",children:[S,k]})})]}),e[63]=K,e[64]=S,e[65]=k,e[66]=I):I=e[66],I}function V(n){return t.jsxs("option",{value:n.id,children:[n.nis," - ",n.name]},n.id)}export{re as default};
