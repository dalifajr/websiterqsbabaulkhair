import{c as O,u as q,j as t,L as F,H as Q}from"./app-LrsKmx93.js";import{A as V}from"./mobile-layout-X8LYD6LL.js";import{C as W}from"./clipboard-check-D9mgopzf.js";import{C as X}from"./chevron-right-DEg5f6cJ.js";import{P as Y}from"./printer-BsCrQv95.js";import{C as Z}from"./layout-dashboard-DVszlXo4.js";import{G as ee}from"./graduation-cap--arkKicv.js";import{U as te}from"./users-DpbnXvSk.js";import{P as se}from"./plus-CoD31HGv.js";/* empty css            */import"./app-sidebar-BJ8KpaQ-.js";import"./index-p0syaNOC.js";import"./x-Db2KilOX.js";import"./index-DFJIUhka.js";function je(J){const e=O.c(59),{assignment:a,studentsCount:T,sessions:g}=J;let _;e[0]===Symbol.for("react.memo_cache_sentinel")?(_={meeting_date:new Date().toISOString().slice(0,10),topic:""},e[0]=_):_=e[0];const{data:i,setData:n,post:U,processing:y,errors:w}=q(_);let k;e[1]!==a.id||e[2]!==U?(k=()=>{U(`/assessments/${a.id}/attendance`)},e[1]=a.id,e[2]=U,e[3]=k):k=e[3];const E=k,G=`/assessments/${a.id}`,K=`Absensi - ${a.subject.name}`;let l;e[4]!==K?(l=t.jsx(Q,{title:K}),e[4]=K,e[5]=l):l=e[5];let S;e[6]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsx("h2",{className:"text-xl font-semibold text-on-surface mb-4",children:"Informasi Kelas"}),e[6]=S):S=e[6];let C,P;e[7]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx("div",{className:"w-10 h-10 rounded-xl bg-surface-variant flex items-center justify-center",children:t.jsx(ee,{className:"w-5 h-5 text-on-surface-variant"})}),P=t.jsx("p",{className:"text-sm font-medium text-on-surface-variant",children:"Kelas"}),e[7]=C,e[8]=P):(C=e[7],P=e[8]);let r;e[9]!==a.class_group.name?(r=t.jsxs("div",{className:"flex items-center gap-3",children:[C,t.jsxs("div",{children:[P,t.jsx("p",{className:"text-base text-on-surface",children:a.class_group.name})]})]}),e[9]=a.class_group.name,e[10]=r):r=e[10];let $,B;e[11]===Symbol.for("react.memo_cache_sentinel")?($=t.jsx("div",{className:"w-10 h-10 rounded-xl bg-surface-variant flex items-center justify-center",children:t.jsx(te,{className:"w-5 h-5 text-on-surface-variant"})}),B=t.jsx("p",{className:"text-sm font-medium text-on-surface-variant",children:"Jumlah Siswa"}),e[11]=$,e[12]=B):($=e[11],B=e[12]);let c;e[13]!==T?(c=t.jsxs("div",{className:"flex items-center gap-3",children:[$,t.jsxs("div",{children:[B,t.jsxs("p",{className:"text-base text-on-surface",children:[T," Siswa"]})]})]}),e[13]=T,e[14]=c):c=e[14];let m;e[15]!==c||e[16]!==r?(m=t.jsxs("div",{className:"m3-card-elevated bg-gradient-to-br from-primary/5 to-secondary/5",children:[S,t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r,c]})]}),e[15]=c,e[16]=r,e[17]=m):m=e[17];let A;e[18]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx("h3",{className:"font-medium text-on-surface mb-3",children:"Buat Absensi Pertemuan"}),e[18]=A):A=e[18];let I;e[19]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx("label",{className:"block text-sm font-medium text-on-surface-variant mb-1",children:"Tanggal"}),e[19]=I):I=e[19];let o;e[20]!==n?(o=s=>n("meeting_date",s.target.value),e[20]=n,e[21]=o):o=e[21];let d;e[22]!==i.meeting_date||e[23]!==o?(d=t.jsx("input",{type:"date",value:i.meeting_date,onChange:o,className:"m3-input w-full"}),e[22]=i.meeting_date,e[23]=o,e[24]=d):d=e[24];let x;e[25]!==w.meeting_date?(x=w.meeting_date?t.jsx("p",{className:"text-sm text-destructive mt-1",children:w.meeting_date}):null,e[25]=w.meeting_date,e[26]=x):x=e[26];let f;e[27]!==d||e[28]!==x?(f=t.jsxs("div",{children:[I,d,x]}),e[27]=d,e[28]=x,e[29]=f):f=e[29];let R;e[30]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx("label",{className:"block text-sm font-medium text-on-surface-variant mb-1",children:"Topik (opsional)"}),e[30]=R):R=e[30];let u;e[31]!==n?(u=s=>n("topic",s.target.value),e[31]=n,e[32]=u):u=e[32];let h;e[33]!==i.topic||e[34]!==u?(h=t.jsxs("div",{className:"md:col-span-2",children:[R,t.jsx("input",{type:"text",value:i.topic,onChange:u,placeholder:"Contoh: Bab 1 - Pecahan",className:"m3-input w-full"})]}),e[33]=i.topic,e[34]=u,e[35]=h):h=e[35];let p;e[36]!==f||e[37]!==h?(p=t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[f,h]}),e[36]=f,e[37]=h,e[38]=p):p=e[38];let D;e[39]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsx(se,{className:"w-4 h-4"}),e[39]=D):D=e[39];const z=y?"Membuat...":"Buat / Buka Pertemuan";let j;e[40]!==E||e[41]!==y||e[42]!==z?(j=t.jsxs("button",{type:"button",className:"m3-button-filled w-full mt-4",onClick:E,disabled:y,children:[D,z]}),e[40]=E,e[41]=y,e[42]=z,e[43]=j):j=e[43];let v;e[44]!==p||e[45]!==j?(v=t.jsxs("div",{className:"m3-card-elevated",children:[A,p,j]}),e[44]=p,e[45]=j,e[46]=v):v=e[46];let H;e[47]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx("div",{className:"px-5 py-4 border-b border-border",children:t.jsx("h3",{className:"font-medium text-on-surface",children:"Riwayat Pertemuan"})}),e[47]=H):H=e[47];let N;e[48]!==a.id||e[49]!==g?(N=t.jsxs("div",{className:"m3-card-elevated p-0 overflow-hidden",children:[H,g.length>0?t.jsx("div",{className:"divide-y divide-border",children:g.map((s,M)=>t.jsxs("div",{className:"m3-list-item group animate-m3-fade",style:{animationDelay:`${M*50}ms`},children:[t.jsxs(F,{href:`/assessments/${a.id}/attendance/${s.id}`,className:"flex items-center gap-4 flex-1 min-w-0",children:[t.jsx("div",{className:"w-11 h-11 rounded-full bg-surface-variant flex items-center justify-center group-hover:bg-primary/10 transition-colors",children:t.jsx(W,{className:"w-5 h-5 text-on-surface-variant group-hover:text-primary"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-medium text-on-surface truncate",children:s.meeting_date}),t.jsx("p",{className:"text-sm text-on-surface-variant truncate",children:s.topic||"Tanpa topik"}),t.jsxs("p",{className:"text-xs text-on-surface-variant mt-1",children:["Hadir: ",t.jsx("span",{className:"text-on-surface",children:s.present_count})," • Alpha: ",t.jsx("span",{className:"text-on-surface",children:s.absent_count})," • Sakit: ",t.jsx("span",{className:"text-on-surface",children:s.sick_count})," • Izin: ",t.jsx("span",{className:"text-on-surface",children:s.permit_count})," • Belum: ",t.jsx("span",{className:"text-on-surface",children:s.unmarked_count})]})]}),t.jsx(X,{className:"w-5 h-5 text-on-surface-variant group-hover:translate-x-1 transition-transform"})]}),t.jsxs(F,{href:`/assessments/${a.id}/attendance/${s.id}?print=1`,className:"m3-button-tonal h-10 shrink-0",children:[t.jsx(Y,{className:"w-4 h-4"}),"Print"]})]},s.id))}):t.jsxs("div",{className:"p-12 text-center",children:[t.jsx(Z,{className:"w-16 h-16 mx-auto text-on-surface-variant/30 mb-4"}),t.jsx("p",{className:"text-lg font-medium text-on-surface",children:"Belum ada pertemuan"}),t.jsx("p",{className:"text-on-surface-variant mt-1",children:"Buat absensi untuk mulai pencatatan."})]})]}),e[48]=a.id,e[49]=g,e[50]=N):N=e[50];let b;e[51]!==m||e[52]!==v||e[53]!==N?(b=t.jsxs("div",{className:"m3-container py-6 space-y-6",children:[m,v,N]}),e[51]=m,e[52]=v,e[53]=N,e[54]=b):b=e[54];let L;return e[55]!==G||e[56]!==b||e[57]!==l?(L=t.jsxs(V,{title:"Absensi",showBack:!0,backUrl:G,children:[l,b]}),e[55]=G,e[56]=b,e[57]=l,e[58]=L):L=e[58],L}export{je as default};
