import{c as w,a as k,j as t,L as g,r as N,H as S}from"./app-sW6fCb4y.js";import{A as D}from"./mobile-layout-DGQtAksw.js";import{I as C}from"./input-CIb__f9w.js";import{C as $}from"./app-sidebar-CI1fYkiJ.js";import{P as b}from"./plus-DtaPLmsK.js";import{E}from"./eye-off-BhCwNA9o.js";import{C as H}from"./layout-dashboard-DKQQ2k74.js";import{P as I}from"./pen-Cn_TvZm6.js";import{T as L}from"./trash-2-CphmM8FT.js";import{S as P}from"./search-D73hYdcZ.js";/* empty css            */import"./index-DL5FI1V4.js";import"./graduation-cap-ClVqnEvr.js";import"./x-BJgijQIp.js";import"./index-DHgL46HU.js";import"./users-bKj1HJXE.js";function Z(l){const e=w.c(21),{posts:s,filters:y}=l,[r,v]=k.useState(y.q||"");let c;e[0]!==r?(c=a=>{a.preventDefault(),N.get("/admin/gallery-posts",{q:r},{preserveState:!0})},e[0]=r,e[1]=c):c=e[1];const j=c,_=K;let d;e[2]===Symbol.for("react.memo_cache_sentinel")?(d=t.jsx(S,{title:"Dokumentasi Kegiatan"}),e[2]=d):d=e[2];let x;e[3]===Symbol.for("react.memo_cache_sentinel")?(x=t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Dokumentasi Kegiatan"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Kelola foto dokumentasi kegiatan"})]}),e[3]=x):x=e[3];let f;e[4]===Symbol.for("react.memo_cache_sentinel")?(f=t.jsxs("div",{className:"flex items-center justify-between",children:[x,t.jsxs(g,{href:"/admin/gallery-posts/create",className:"m3-button-filled inline-flex items-center gap-2",children:[t.jsx(b,{className:"w-4 h-4"}),"Tambah"]})]}),e[4]=f):f=e[4];let u;e[5]===Symbol.for("react.memo_cache_sentinel")?(u=t.jsx(P,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e[5]=u):u=e[5];let h;e[6]===Symbol.for("react.memo_cache_sentinel")?(h=a=>v(a.target.value),e[6]=h):h=e[6];let i;e[7]!==r?(i=t.jsxs("div",{className:"relative flex-1",children:[u,t.jsx(C,{value:r,onChange:h,placeholder:"Cari dokumentasi...",className:"pl-10"})]}),e[7]=r,e[8]=i):i=e[8];let n;e[9]!==j||e[10]!==i?(n=t.jsx("form",{onSubmit:j,className:"flex gap-2",children:i}),e[9]=j,e[10]=i,e[11]=n):n=e[11];let m;e[12]!==s.data?(m=s.data.length===0?t.jsxs("div",{className:"text-center py-12 rounded-xl border border-dashed",children:[t.jsx($,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-3"}),t.jsx("p",{className:"text-muted-foreground",children:"Belum ada dokumentasi kegiatan"}),t.jsxs(g,{href:"/admin/gallery-posts/create",className:"m3-button-tonal inline-flex items-center gap-2 mt-4",children:[t.jsx(b,{className:"w-4 h-4"}),"Tambah Dokumentasi"]})]}):t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:s.data.map(a=>t.jsxs("div",{className:"group rounded-2xl border bg-card overflow-hidden hover:shadow-lg transition-all",children:[t.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden bg-muted",children:[t.jsx("img",{src:a.image_path.startsWith("data:")?a.image_path:`/storage/${a.image_path}`,alt:a.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),!a.is_published&&t.jsxs("div",{className:"absolute top-2 left-2 bg-yellow-500/90 text-white px-2 py-1 rounded-lg text-xs font-medium flex items-center gap-1",children:[t.jsx(E,{className:"w-3 h-3"}),"Draft"]})]}),t.jsxs("div",{className:"p-4 space-y-2",children:[t.jsx("h3",{className:"font-semibold text-sm line-clamp-2",children:a.title}),a.description&&t.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:a.description}),t.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[t.jsx(H,{className:"w-3 h-3"}),new Date(a.event_date).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})]}),t.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[t.jsxs(g,{href:`/admin/gallery-posts/${a.id}/edit`,className:"flex-1 m3-button-tonal text-xs inline-flex items-center justify-center gap-1",children:[t.jsx(I,{className:"w-3 h-3"}),"Edit"]}),t.jsxs("button",{onClick:()=>_(a.id,a.title),className:"flex-1 m3-button-tonal text-xs inline-flex items-center justify-center gap-1 text-destructive",children:[t.jsx(L,{className:"w-3 h-3"}),"Hapus"]})]})]})]},a.id))}),e[12]=s.data,e[13]=m):m=e[13];let o;e[14]!==s.last_page||e[15]!==s.links?(o=s.last_page>1&&t.jsx("div",{className:"flex justify-center gap-2",children:s.links.map(T)}),e[14]=s.last_page,e[15]=s.links,e[16]=o):o=e[16];let p;return e[17]!==o||e[18]!==n||e[19]!==m?(p=t.jsxs(D,{title:"Dokumentasi Kegiatan",showBack:!0,backUrl:"/dashboard",children:[d,t.jsxs("div",{className:"m3-container py-6 space-y-6",children:[f,n,m,o]})]}),e[17]=o,e[18]=n,e[19]=m,e[20]=p):p=e[20],p}function T(l,e){return t.jsx(g,{href:l.url||"#",className:`px-3 py-2 rounded-lg text-sm ${l.active?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"} ${l.url?"":"opacity-50 pointer-events-none"}`,dangerouslySetInnerHTML:{__html:l.label}},e)}function K(l,e){confirm(`Hapus dokumentasi "${e}"?`)&&N.delete(`/admin/gallery-posts/${l}`)}export{Z as default};
