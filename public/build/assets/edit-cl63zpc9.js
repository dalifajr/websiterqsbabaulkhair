import{c as te,a as se,u as ie,j as t,r as le,H as ae}from"./app-sW6fCb4y.js";import{A as re}from"./mobile-layout-DGQtAksw.js";import{I as V}from"./input-CIb__f9w.js";import{L as S}from"./label-BWpvdgKZ.js";import{T as ne}from"./textarea-CnJjBKqR.js";import{S as ce}from"./switch-D_6rFv74.js";import{U as X}from"./upload-ChIZam36.js";import{S as oe}from"./save-C8X3uZwK.js";/* empty css            */import"./app-sidebar-CI1fYkiJ.js";import"./index-DL5FI1V4.js";import"./x-BJgijQIp.js";import"./graduation-cap-ClVqnEvr.js";import"./index-DHgL46HU.js";import"./layout-dashboard-DKQQ2k74.js";import"./users-bKj1HJXE.js";import"./index-CHtKh_iC.js";function Se(Y){const e=te.c(79),{post:a}=Y,[C,Z]=se.useState(`/storage/${a.image_path}`),ee=a.title,B=a.description||"";let n;e[0]!==a.event_date?(n=a.event_date.split("T"),e[0]=a.event_date,e[1]=n):n=e[1];let E;e[2]!==a.is_published||e[3]!==a.title||e[4]!==B||e[5]!==n[0]?(E={title:ee,description:B,image:null,event_date:n[0],is_published:a.is_published},e[2]=a.is_published,e[3]=a.title,e[4]=B,e[5]=n[0],e[6]=E):E=e[6];const{data:i,setData:l,processing:F,errors:s,progress:D}=ie(E);let L;e[7]!==l?(L=r=>{const q=r.target.files?.[0];q&&(l("image",q),Z(URL.createObjectURL(q)))},e[7]=l,e[8]=L):L=e[8];const T=L;let U;e[9]!==a.id||e[10]!==i?(U=r=>{r.preventDefault(),le.post(`/admin/achievement-posts/${a.id}`,{...i,_method:"put"},{forceFormData:!0})},e[9]=a.id,e[10]=i,e[11]=U):U=e[11];const K=U;let A;e[12]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx(ae,{title:"Edit Prestasi Membanggakan"}),e[12]=A):A=e[12];let R;e[13]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx(S,{children:"Foto Prestasi"}),e[13]=R):R=e[13];let c;e[14]!==T||e[15]!==C?(c=t.jsx("div",{className:"relative border-2 border-dashed rounded-2xl overflow-hidden border-muted-foreground/25 hover:border-primary/50 transition-colors",children:C?t.jsxs("div",{className:"relative aspect-[16/9]",children:[t.jsx("img",{src:C,alt:"Preview",className:"w-full h-full object-cover"}),t.jsxs("label",{className:"absolute bottom-2 right-2 bg-black/60 text-white rounded-full px-3 py-1.5 text-xs hover:bg-black/80 cursor-pointer flex items-center gap-1",children:[t.jsx(X,{className:"w-3 h-3"}),"Ganti",t.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/webp",onChange:T,className:"hidden"})]})]}):t.jsxs("label",{className:"flex flex-col items-center justify-center py-12 cursor-pointer",children:[t.jsx("div",{className:"w-16 h-16 rounded-full bg-amber-500/10 flex items-center justify-center mb-3",children:t.jsx(X,{className:"w-7 h-7 text-amber-600"})}),t.jsx("p",{className:"text-sm font-medium",children:"Klik untuk upload foto"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"JPG, PNG, atau WebP (maks. 10MB)"}),t.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/webp",onChange:T,className:"hidden"})]})}),e[14]=T,e[15]=C,e[16]=c):c=e[16];let o;e[17]!==D?(o=D&&t.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:t.jsx("div",{className:"bg-amber-500 h-2 rounded-full transition-all",style:{width:`${D.percentage}%`}})}),e[17]=D,e[18]=o):o=e[18];let d;e[19]!==s.image?(d=s.image&&t.jsx("p",{className:"text-sm text-destructive",children:s.image}),e[19]=s.image,e[20]=d):d=e[20];let m;e[21]!==o||e[22]!==d||e[23]!==c?(m=t.jsxs("div",{className:"space-y-2",children:[R,c,o,d]}),e[21]=o,e[22]=d,e[23]=c,e[24]=m):m=e[24];let $;e[25]===Symbol.for("react.memo_cache_sentinel")?($=t.jsx(S,{htmlFor:"title",children:"Judul Prestasi *"}),e[25]=$):$=e[25];let p;e[26]!==l?(p=r=>l("title",r.target.value),e[26]=l,e[27]=p):p=e[27];const z=s.title?"border-destructive":"";let h;e[28]!==i.title||e[29]!==p||e[30]!==z?(h=t.jsx(V,{id:"title",value:i.title,onChange:p,placeholder:"Contoh: Khatam Hafalan 1 Juz Al-Qur'an",className:z}),e[28]=i.title,e[29]=p,e[30]=z,e[31]=h):h=e[31];let u;e[32]!==s.title?(u=s.title&&t.jsx("p",{className:"text-sm text-destructive",children:s.title}),e[32]=s.title,e[33]=u):u=e[33];let f;e[34]!==h||e[35]!==u?(f=t.jsxs("div",{className:"space-y-2",children:[$,h,u]}),e[34]=h,e[35]=u,e[36]=f):f=e[36];let G;e[37]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx(S,{htmlFor:"event_date",children:"Tanggal Prestasi *"}),e[37]=G):G=e[37];let x;e[38]!==l?(x=r=>l("event_date",r.target.value),e[38]=l,e[39]=x):x=e[39];const O=s.event_date?"border-destructive":"";let b;e[40]!==i.event_date||e[41]!==x||e[42]!==O?(b=t.jsx(V,{id:"event_date",type:"date",value:i.event_date,onChange:x,className:O}),e[40]=i.event_date,e[41]=x,e[42]=O,e[43]=b):b=e[43];let v;e[44]!==s.event_date?(v=s.event_date&&t.jsx("p",{className:"text-sm text-destructive",children:s.event_date}),e[44]=s.event_date,e[45]=v):v=e[45];let g;e[46]!==b||e[47]!==v?(g=t.jsxs("div",{className:"space-y-2",children:[G,b,v]}),e[46]=b,e[47]=v,e[48]=g):g=e[48];let H;e[49]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx(S,{htmlFor:"description",children:"Deskripsi Prestasi"}),e[49]=H):H=e[49];let j;e[50]!==l?(j=r=>l("description",r.target.value),e[50]=l,e[51]=j):j=e[51];const Q=s.description?"border-destructive":"";let _;e[52]!==i.description||e[53]!==j||e[54]!==Q?(_=t.jsx(ne,{id:"description",value:i.description,onChange:j,placeholder:"Deskripsi tentang prestasi yang diraih...",rows:4,className:Q}),e[52]=i.description,e[53]=j,e[54]=Q,e[55]=_):_=e[55];let N;e[56]!==s.description?(N=s.description&&t.jsx("p",{className:"text-sm text-destructive",children:s.description}),e[56]=s.description,e[57]=N):N=e[57];let y;e[58]!==_||e[59]!==N?(y=t.jsxs("div",{className:"space-y-2",children:[H,_,N]}),e[58]=_,e[59]=N,e[60]=y):y=e[60];let I;e[61]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsxs("div",{children:[t.jsx(S,{children:"Publikasikan"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Tampilkan di halaman profil"})]}),e[61]=I):I=e[61];let w;e[62]!==l?(w=r=>l("is_published",r),e[62]=l,e[63]=w):w=e[63];let k;e[64]!==i.is_published||e[65]!==w?(k=t.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[I,t.jsx(ce,{checked:i.is_published,onCheckedChange:w})]}),e[64]=i.is_published,e[65]=w,e[66]=k):k=e[66];let J;e[67]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx(oe,{className:"w-5 h-5"}),e[67]=J):J=e[67];const W=F?"Menyimpan...":"Simpan Perubahan";let P;e[68]!==F||e[69]!==W?(P=t.jsxs("button",{type:"submit",disabled:F,className:"m3-button-filled w-full",children:[J,W]}),e[68]=F,e[69]=W,e[70]=P):P=e[70];let M;return e[71]!==K||e[72]!==m||e[73]!==f||e[74]!==g||e[75]!==y||e[76]!==k||e[77]!==P?(M=t.jsxs(re,{title:"Edit Prestasi",showBack:!0,backUrl:"/admin/achievement-posts",children:[A,t.jsx("div",{className:"m3-container py-6 space-y-6",children:t.jsxs("form",{onSubmit:K,className:"space-y-6",children:[m,f,g,y,k,P]})})]}),e[71]=K,e[72]=m,e[73]=f,e[74]=g,e[75]=y,e[76]=k,e[77]=P,e[78]=M):M=e[78],M}export{Se as default};
