import{c as ve,a as ge,j as t,H as Ne,L as ye}from"./app-LrsKmx93.js";import{A as _e}from"./mobile-layout-X8LYD6LL.js";import{a as ue,J as we}from"./app-sidebar-BJ8KpaQ-.js";import{U as Se}from"./user-GaJ_3jpH.js";/* empty css            */import"./index-p0syaNOC.js";import"./graduation-cap--arkKicv.js";import"./x-Db2KilOX.js";import"./index-DFJIUhka.js";import"./layout-dashboard-DVszlXo4.js";import"./users-DpbnXvSk.js";function Ge(i){const e=ve.c(103),{student:s,subjectAverages:c,printMode:U,letterhead:a,meta:r}=i;let l,M;e[0]!==c?(l=Object.entries(c),M=l.length>0?(l.reduce(De,0)/l.length).toFixed(1):"-",e[0]=c,e[1]=l,e[2]=M):(l=e[1],M=e[2]);const n=M;let J,K;if(e[3]!==U?(J=()=>{if(!U)return;const B=window.setTimeout(Te,250);return()=>window.clearTimeout(B)},K=[U],e[3]=U,e[4]=J,e[5]=K):(J=e[4],K=e[5]),ge.useEffect(J,K),U){const B=!!a?.enabled,Y=a?.line1||a?.schoolName||"",q=a?.line2||"",Q=a?.line3||"";let V;e[6]!==r?(V=r?.date?new Date(r.date).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric"}):new Date().toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric"}),e[6]=r,e[7]=V):V=e[7];const xe=V,fe=`Rapor ${s.name}`;let g;e[8]!==fe?(g=t.jsx(Ne,{title:fe}),e[8]=fe,e[9]=g):g=e[9];let X;e[10]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx("style",{children:`
                    @page { size: A4; margin: 8mm; }
                    html, body { -webkit-print-color-adjust: exact; print-color-adjust: exact; background: #fff !important; color: #000 !important; }
                `}),e[10]=X):X=e[10];let y;e[11]!==a||e[12]!==B||e[13]!==Y||e[14]!==q||e[15]!==Q?(y=B&&t.jsxs("div",{className:"flex gap-3 items-start pb-2 mb-2 border-b border-black",children:[a?.logoUrl&&t.jsx("img",{src:a.logoUrl,alt:"Logo",className:"w-12 h-12 object-contain"}),t.jsxs("div",{className:"flex-1",children:[Y&&t.jsx("div",{className:"text-sm font-bold leading-5",children:Y}),q&&t.jsx("div",{className:"text-[11px]",children:q}),Q&&t.jsx("div",{className:"text-[11px]",children:Q})]})]}),e[11]=a,e[12]=B,e[13]=Y,e[14]=q,e[15]=Q,e[16]=y):y=e[16];let Z;e[17]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx("div",{className:"text-sm font-bold",children:"RAPOR NILAI SISWA"}),e[17]=Z):Z=e[17];let _;e[18]!==xe?(_=t.jsxs("div",{className:"text-center mb-2",children:[Z,t.jsxs("div",{className:"text-[11px]",children:["Tanggal: ",xe]})]}),e[18]=xe,e[19]=_):_=e[19];let ee;e[20]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx("div",{className:"w-24",children:"Nama"}),e[20]=ee):ee=e[20];let w;e[21]!==s.name?(w=t.jsxs("div",{className:"flex gap-2",children:[ee,t.jsxs("div",{className:"font-semibold",children:[": ",s.name]})]}),e[21]=s.name,e[22]=w):w=e[22];let te;e[23]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsx("div",{className:"w-24",children:"NIS"}),e[23]=te):te=e[23];let S;e[24]!==s.nis?(S=t.jsxs("div",{className:"flex gap-2",children:[te,t.jsxs("div",{className:"font-semibold",children:[": ",s.nis]})]}),e[24]=s.nis,e[25]=S):S=e[25];let se;e[26]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsx("div",{className:"w-24",children:"Semester"}),e[26]=se):se=e[26];const he=r?.term||"-";let k;e[27]!==he?(k=t.jsxs("div",{className:"flex gap-2",children:[se,t.jsxs("div",{children:[": ",he]})]}),e[27]=he,e[28]=k):k=e[28];let le;e[29]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx("div",{className:"w-24",children:"Tahun Ajaran"}),e[29]=le):le=e[29];const pe=r?.academicYear||"-";let L;e[30]!==pe?(L=t.jsxs("div",{className:"flex gap-2",children:[le,t.jsxs("div",{children:[": ",pe]})]}),e[30]=pe,e[31]=L):L=e[31];let ae;e[32]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsx("div",{className:"w-24",children:"Kelas"}),e[32]=ae):ae=e[32];const be=r?.classGroup||"-";let A;e[33]!==be?(A=t.jsxs("div",{className:"flex gap-2",children:[ae,t.jsxs("div",{children:[": ",be]})]}),e[33]=be,e[34]=A):A=e[34];let re;e[35]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsx("div",{className:"w-24",children:"Wali Kelas"}),e[35]=re):re=e[35];const je=r?.homeroomTeacher||"-";let T;e[36]!==je?(T=t.jsxs("div",{className:"flex gap-2",children:[re,t.jsxs("div",{children:[": ",je]})]}),e[36]=je,e[37]=T):T=e[37];let D;e[38]!==w||e[39]!==S||e[40]!==k||e[41]!==L||e[42]!==A||e[43]!==T?(D=t.jsxs("div",{className:"grid grid-cols-2 gap-x-6 gap-y-1 mb-2",children:[w,S,k,L,A,T]}),e[38]=w,e[39]=S,e[40]=k,e[41]=L,e[42]=A,e[43]=T,e[44]=D):D=e[44];let ie;e[45]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsx("thead",{children:t.jsxs("tr",{className:"bg-gray-100",children:[t.jsx("th",{className:"border border-black px-2 py-1 text-left",children:"Mata Pelajaran"}),t.jsx("th",{className:"border border-black px-2 py-1 text-left",children:"Guru"}),t.jsx("th",{className:"border border-black px-2 py-1 text-center w-16",children:"Nilai"}),t.jsx("th",{className:"border border-black px-2 py-1 text-center w-20",children:"Jml. Nilai"})]})}),e[45]=ie):ie=e[45];let R;e[46]!==l?(R=l.length>0?l.map(Ae):t.jsx("tr",{children:t.jsx("td",{className:"border border-black px-2 py-2",colSpan:4,children:"Belum ada data nilai."})}),e[46]=l,e[47]=R):R=e[47];let I;e[48]!==R?(I=t.jsx("tbody",{children:R}),e[48]=R,e[49]=I):I=e[49];let ce;e[50]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx("td",{className:"border border-black px-2 py-1 font-semibold",colSpan:2,children:"Rata-rata Total"}),e[50]=ce):ce=e[50];let P;e[51]!==n?(P=t.jsx("tfoot",{children:t.jsxs("tr",{children:[ce,t.jsx("td",{className:"border border-black px-2 py-1 text-center font-semibold",colSpan:2,children:n})]})}),e[51]=n,e[52]=P):P=e[52];let $;e[53]!==I||e[54]!==P?($=t.jsxs("table",{className:"w-full border border-black border-collapse",children:[ie,I,P]}),e[53]=I,e[54]=P,e[55]=$):$=e[55];let E;e[56]!==_||e[57]!==D||e[58]!==$||e[59]!==y?(E=t.jsxs("div",{className:"p-4 print:p-0 text-[11px] leading-4 text-black bg-white",children:[y,_,D,$]}),e[56]=_,e[57]=D,e[58]=$,e[59]=y,e[60]=E):E=e[60];let ne;return e[61]!==E||e[62]!==g?(ne=t.jsxs(t.Fragment,{children:[g,X,E]}),e[61]=E,e[62]=g,e[63]=ne):ne=e[63],ne}const de=`Rapor ${s.name}`;let d;e[64]!==de?(d=t.jsx(Ne,{title:de}),e[64]=de,e[65]=d):d=e[65];let F;e[66]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsx("button",{type:"button",className:"m3-button-filled",onClick:Le,children:"Print"}),e[66]=F):F=e[66];const oe=`/reports/students/${s.id}?print=1`;let o;e[67]!==oe?(o=t.jsxs("div",{className:"flex gap-3 print:hidden",children:[F,t.jsx(ye,{href:oe,className:"m3-button-tonal",children:"Mode Print"})]}),e[67]=oe,e[68]=o):o=e[68];let m;e[69]!==s.name?(m=s.name.charAt(0),e[69]=s.name,e[70]=m):m=e[70];let x;e[71]!==m?(x=t.jsx("div",{className:"w-20 h-20 mx-auto bg-surface-variant rounded-full flex items-center justify-center mb-4 text-2xl font-bold text-primary",children:m}),e[71]=m,e[72]=x):x=e[72];let f;e[73]!==s.name?(f=t.jsx("h1",{className:"text-2xl font-bold text-on-surface",children:s.name}),e[73]=s.name,e[74]=f):f=e[74];let h;e[75]!==s.nis?(h=t.jsxs("p",{className:"text-on-surface-variant mt-1",children:["NIS: ",s.nis]}),e[75]=s.nis,e[76]=h):h=e[76];let G;e[77]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx("span",{className:"text-sm text-on-surface-variant mb-1",children:"Jenis Kelamin"}),e[77]=G):G=e[77];let H;e[78]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx(Se,{className:"w-4 h-4"}),e[78]=H):H=e[78];const me=s.gender==="L"?"Laki-laki":"Perempuan";let p;e[79]!==me?(p=t.jsxs("div",{className:"flex flex-col items-center",children:[G,t.jsxs("span",{className:"font-medium text-on-surface flex items-center gap-1",children:[H,me]})]}),e[79]=me,e[80]=p):p=e[80];let O;e[81]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx("span",{className:"text-sm text-on-surface-variant mb-1",children:"Rata-rata Total"}),e[81]=O):O=e[81];let W;e[82]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx(we,{className:"w-4 h-4"}),e[82]=W):W=e[82];let b;e[83]!==n?(b=t.jsxs("div",{className:"flex flex-col items-center",children:[O,t.jsxs("span",{className:"font-bold text-lg text-primary flex items-center gap-1",children:[W,n]})]}),e[83]=n,e[84]=b):b=e[84];let j;e[85]!==p||e[86]!==b?(j=t.jsxs("div",{className:"flex justify-center gap-6 mt-6",children:[p,b]}),e[85]=p,e[86]=b,e[87]=j):j=e[87];let N;e[88]!==x||e[89]!==f||e[90]!==h||e[91]!==j?(N=t.jsxs("div",{className:"m3-card-elevated bg-primary/5 border border-primary/20 text-center py-8",children:[x,f,h,j]}),e[88]=x,e[89]=f,e[90]=h,e[91]=j,e[92]=N):N=e[92];let z;e[93]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsx("div",{className:"px-5 py-4 border-b border-border",children:t.jsx("h3",{className:"font-medium text-on-surface",children:"Nilai Per Mata Pelajaran"})}),e[93]=z):z=e[93];let u;e[94]!==l?(u=t.jsxs("div",{className:"m3-card-elevated p-0 overflow-hidden",children:[z,l.length>0?t.jsx("div",{className:"divide-y divide-border",children:l.map(ke)}):t.jsxs("div",{className:"p-12 text-center",children:[t.jsx(ue,{className:"w-16 h-16 mx-auto text-on-surface-variant/30 mb-4"}),t.jsx("p",{className:"text-lg font-medium text-on-surface",children:"Belum ada data nilai"})]})]}),e[94]=l,e[95]=u):u=e[95];let v;e[96]!==N||e[97]!==u||e[98]!==o?(v=t.jsxs("div",{className:"m3-container py-6 space-y-6",children:[o,N,u]}),e[96]=N,e[97]=u,e[98]=o,e[99]=v):v=e[99];let C;return e[100]!==v||e[101]!==d?(C=t.jsxs(_e,{title:"Detail Rapor",showBack:!0,backUrl:"/reports/students",children:[d,v]}),e[100]=v,e[101]=d,e[102]=C):C=e[102],C}function ke(i,e){const[s,c]=i;return t.jsxs("div",{className:"p-4 flex items-center justify-between animate-m3-fade",style:{animationDelay:`${e*50}ms`},children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-xl bg-surface-variant flex items-center justify-center",children:t.jsx(ue,{className:"w-5 h-5 text-on-surface-variant"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-on-surface",children:s}),t.jsxs("p",{className:"text-xs text-on-surface-variant",children:[c.scores.length," penilaian"]})]})]}),t.jsx("div",{className:"text-right",children:t.jsx("span",{className:`text-lg font-bold ${c.average>=75?"text-chart-3":"text-chart-5"}`,children:c.average})})]},s)}function Le(){return window.print()}function Ae(i){const[e,s]=i;return t.jsxs("tr",{children:[t.jsx("td",{className:"border border-black px-2 py-1",children:e}),t.jsx("td",{className:"border border-black px-2 py-1",children:s.teacher||"-"}),t.jsx("td",{className:"border border-black px-2 py-1 text-center",children:s.average}),t.jsx("td",{className:"border border-black px-2 py-1 text-center",children:s.scores.length})]},e)}function Te(){window.print()}function De(i,e){const[,s]=e;return i+s.average}export{Ge as default};
