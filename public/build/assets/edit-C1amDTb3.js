import{c as ae,u as le,a as ie,j as t,r as re,H as ne}from"./app-sW6fCb4y.js";import{A as oe}from"./mobile-layout-DGQtAksw.js";import{C as Z}from"./app-sidebar-CI1fYkiJ.js";import{S as me}from"./save-C8X3uZwK.js";/* empty css            */import"./index-DL5FI1V4.js";import"./graduation-cap-ClVqnEvr.js";import"./x-BJgijQIp.js";import"./index-DHgL46HU.js";import"./layout-dashboard-DKQQ2k74.js";import"./users-bKj1HJXE.js";function Ne(ee){const e=ae.c(89),{student:a}=ee,M=a.birth_date||"";let $;e[0]!==a.gender||e[1]!==a.name||e[2]!==a.nis||e[3]!==a.status||e[4]!==M?($={nis:a.nis,name:a.name,gender:a.gender,birth_date:M,status:a.status,photo:null},e[0]=a.gender,e[1]=a.name,e[2]=a.nis,e[3]=a.status,e[4]=M,e[5]=$):$=e[5];const{data:l,setData:s,processing:n,errors:i}=le($),[A,te]=ie.useState(a.photo?`/storage/${a.photo}`:null);let D;e[6]!==s?(D=r=>{const X=r.target.files?.[0];if(X){s("photo",X);const Y=new FileReader;Y.onload=se=>te(se.target?.result),Y.readAsDataURL(X)}},e[6]=s,e[7]=D):D=e[7];const O=D;let R;e[8]!==l||e[9]!==a.id?(R=r=>{r.preventDefault(),re.post(`/admin/students/${a.id}`,{_method:"PUT",...l},{forceFormData:!0})},e[8]=l,e[9]=a.id,e[10]=R):R=e[10];const Q=R;let U;e[11]===Symbol.for("react.memo_cache_sentinel")?(U=t.jsx(ne,{title:"Edit Siswa"}),e[11]=U):U=e[11];let o;e[12]!==A?(o=t.jsx("div",{className:"w-28 h-28 rounded-full bg-surface-container-high flex items-center justify-center overflow-hidden ring-4 ring-surface-container-highest",children:A?t.jsx("img",{src:A,alt:"Foto siswa",className:"w-full h-full object-cover"}):t.jsx(Z,{className:"w-8 h-8 text-on-surface-variant"})}),e[12]=A,e[13]=o):o=e[13];let q;e[14]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsx("div",{className:"absolute bottom-0 right-0 bg-primary text-primary-foreground rounded-full p-2 shadow-md group-hover:scale-110 transition-transform",children:t.jsx(Z,{className:"w-4 h-4"})}),e[14]=q):q=e[14];let m;e[15]!==O?(m=t.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:O}),e[15]=O,e[16]=m):m=e[16];let c;e[17]!==o||e[18]!==m?(c=t.jsx("div",{className:"flex justify-center",children:t.jsxs("label",{className:"relative cursor-pointer group",children:[o,q,m]})}),e[17]=o,e[18]=m,e[19]=c):c=e[19];let d;e[20]!==i.photo?(d=i.photo&&t.jsx("p",{className:"text-sm text-destructive text-center",children:i.photo}),e[20]=i.photo,e[21]=d):d=e[21];let H;e[22]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx("label",{className:"text-sm font-medium text-on-surface-variant",children:"NIS"}),e[22]=H):H=e[22];let u;e[23]!==s?(u=r=>s("nis",r.target.value),e[23]=s,e[24]=u):u=e[24];let f;e[25]!==l.nis||e[26]!==u?(f=t.jsx("input",{type:"text",value:l.nis,onChange:u,className:"m3-input mt-2",placeholder:"Nomor Induk Siswa",required:!0}),e[25]=l.nis,e[26]=u,e[27]=f):f=e[27];let h;e[28]!==i.nis?(h=i.nis&&t.jsx("p",{className:"text-sm text-destructive mt-2",children:i.nis}),e[28]=i.nis,e[29]=h):h=e[29];let x;e[30]!==f||e[31]!==h?(x=t.jsxs("div",{children:[H,f,h]}),e[30]=f,e[31]=h,e[32]=x):x=e[32];let I;e[33]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx("label",{className:"text-sm font-medium text-on-surface-variant",children:"Nama Lengkap"}),e[33]=I):I=e[33];let p;e[34]!==s?(p=r=>s("name",r.target.value),e[34]=s,e[35]=p):p=e[35];let g;e[36]!==l.name||e[37]!==p?(g=t.jsx("input",{type:"text",value:l.name,onChange:p,className:"m3-input mt-2",placeholder:"Nama lengkap siswa",required:!0}),e[36]=l.name,e[37]=p,e[38]=g):g=e[38];let b;e[39]!==i.name?(b=i.name&&t.jsx("p",{className:"text-sm text-destructive mt-2",children:i.name}),e[39]=i.name,e[40]=b):b=e[40];let v;e[41]!==g||e[42]!==b?(v=t.jsxs("div",{children:[I,g,b]}),e[41]=g,e[42]=b,e[43]=v):v=e[43];let T;e[44]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsx("label",{className:"text-sm font-medium text-on-surface-variant",children:"Jenis Kelamin"}),e[44]=T):T=e[44];let j;e[45]!==s?(j=()=>s("gender","L"),e[45]=s,e[46]=j):j=e[46];const V=`flex-1 py-3 rounded-xl font-medium transition-all ${l.gender==="L"?"bg-primary text-primary-foreground":"bg-surface-container-high text-on-surface-variant hover:bg-surface-container-highest"}`;let N;e[47]!==j||e[48]!==V?(N=t.jsx("button",{type:"button",onClick:j,className:V,children:"Laki-laki"}),e[47]=j,e[48]=V,e[49]=N):N=e[49];let y;e[50]!==s?(y=()=>s("gender","P"),e[50]=s,e[51]=y):y=e[51];const W=`flex-1 py-3 rounded-xl font-medium transition-all ${l.gender==="P"?"bg-primary text-primary-foreground":"bg-surface-container-high text-on-surface-variant hover:bg-surface-container-highest"}`;let _;e[52]!==y||e[53]!==W?(_=t.jsx("button",{type:"button",onClick:y,className:W,children:"Perempuan"}),e[52]=y,e[53]=W,e[54]=_):_=e[54];let S;e[55]!==N||e[56]!==_?(S=t.jsxs("div",{children:[T,t.jsxs("div",{className:"flex gap-3 mt-2",children:[N,_]})]}),e[55]=N,e[56]=_,e[57]=S):S=e[57];let B;e[58]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsx("label",{className:"text-sm font-medium text-on-surface-variant",children:"Tanggal Lahir"}),e[58]=B):B=e[58];let w;e[59]!==s?(w=r=>s("birth_date",r.target.value),e[59]=s,e[60]=w):w=e[60];let k;e[61]!==l.birth_date||e[62]!==w?(k=t.jsxs("div",{children:[B,t.jsx("input",{type:"date",value:l.birth_date,onChange:w,className:"m3-input mt-2"})]}),e[61]=l.birth_date,e[62]=w,e[63]=k):k=e[63];let J;e[64]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx("label",{className:"text-sm font-medium text-on-surface-variant",children:"Status"}),e[64]=J):J=e[64];let C;e[65]!==s?(C=r=>s("status",r.target.value),e[65]=s,e[66]=C):C=e[66];let K,z;e[67]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsx("option",{value:"active",children:"Aktif"}),z=t.jsx("option",{value:"inactive",children:"Nonaktif"}),e[67]=K,e[68]=z):(K=e[67],z=e[68]);let P;e[69]!==l.status||e[70]!==C?(P=t.jsxs("div",{children:[J,t.jsxs("select",{value:l.status,onChange:C,className:"m3-input mt-2",children:[K,z]})]}),e[69]=l.status,e[70]=C,e[71]=P):P=e[71];let L;e[72]!==x||e[73]!==v||e[74]!==S||e[75]!==k||e[76]!==P?(L=t.jsxs("div",{className:"m3-card-elevated space-y-5",children:[x,v,S,k,P]}),e[72]=x,e[73]=v,e[74]=S,e[75]=k,e[76]=P,e[77]=L):L=e[77];let E;e[78]!==n?(E=n?t.jsx("div",{className:"w-5 h-5 border-2 border-primary-foreground/30 border-t-primary-foreground rounded-full animate-spin"}):t.jsxs(t.Fragment,{children:[t.jsx(me,{className:"w-5 h-5"}),"Simpan Perubahan"]}),e[78]=n,e[79]=E):E=e[79];let F;e[80]!==n||e[81]!==E?(F=t.jsx("button",{type:"submit",disabled:n,className:"w-full m3-button-filled h-12",children:E}),e[80]=n,e[81]=E,e[82]=F):F=e[82];let G;return e[83]!==Q||e[84]!==d||e[85]!==L||e[86]!==F||e[87]!==c?(G=t.jsxs(oe,{title:"Edit Siswa",showBack:!0,backUrl:"/admin/students",children:[U,t.jsx("div",{className:"m3-container py-6",children:t.jsxs("form",{onSubmit:Q,className:"max-w-xl mx-auto space-y-6",children:[c,d,L,F]})})]}),e[83]=Q,e[84]=d,e[85]=L,e[86]=F,e[87]=c,e[88]=G):G=e[88],G}export{Ne as default};
