import{c as te,a as se,u as ie,j as t,r as le,H as ae}from"./app-BKRXp40Z.js";import{A as re}from"./mobile-layout-CLCTF93r.js";import{I as V}from"./input-uiOkEeJq.js";import{L as C}from"./label-4cRTQBkf.js";import{T as ne}from"./textarea-Yna8kcFW.js";import{S as oe}from"./switch-Z5Rq6x7C.js";import{U as X}from"./upload-CPvkALG_.js";import{S as ce}from"./save-BHrAcMQz.js";/* empty css            */import"./app-sidebar-CYkn40d_.js";import"./index-BBXlvfNf.js";import"./x-CunSLndO.js";import"./graduation-cap-mM4L8sj4.js";import"./index-CHEM0tN0.js";import"./layout-dashboard-DfaYvmA7.js";import"./users-07rPhrSb.js";import"./index-D2ags-Xo.js";function Ce(Y){const e=te.c(79),{post:a}=Y,[P,Z]=se.useState(`/storage/${a.image_path}`),ee=a.title,H=a.description||"";let n;e[0]!==a.event_date?(n=a.event_date.split("T"),e[0]=a.event_date,e[1]=n):n=e[1];let D;e[2]!==a.is_published||e[3]!==a.title||e[4]!==H||e[5]!==n[0]?(D={title:ee,description:H,image:null,event_date:n[0],is_published:a.is_published},e[2]=a.is_published,e[3]=a.title,e[4]=H,e[5]=n[0],e[6]=D):D=e[6];const{data:i,setData:l,processing:F,errors:s,progress:E}=ie(D);let K;e[7]!==l?(K=r=>{const Q=r.target.files?.[0];Q&&(l("image",Q),Z(URL.createObjectURL(Q)))},e[7]=l,e[8]=K):K=e[8];const L=K;let T;e[9]!==i||e[10]!==a.id?(T=r=>{r.preventDefault(),le.post(`/admin/gallery-posts/${a.id}`,{...i,_method:"put"},{forceFormData:!0})},e[9]=i,e[10]=a.id,e[11]=T):T=e[11];const J=T;let U;e[12]===Symbol.for("react.memo_cache_sentinel")?(U=t.jsx(ae,{title:"Edit Dokumentasi Kegiatan"}),e[12]=U):U=e[12];let G;e[13]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx(C,{children:"Foto Kegiatan"}),e[13]=G):G=e[13];let o;e[14]!==L||e[15]!==P?(o=t.jsx("div",{className:"relative border-2 border-dashed rounded-2xl overflow-hidden border-muted-foreground/25 hover:border-primary/50 transition-colors",children:P?t.jsxs("div",{className:"relative aspect-[16/9]",children:[t.jsx("img",{src:P,alt:"Preview",className:"w-full h-full object-cover"}),t.jsxs("label",{className:"absolute bottom-2 right-2 bg-black/60 text-white rounded-full px-3 py-1.5 text-xs hover:bg-black/80 cursor-pointer flex items-center gap-1",children:[t.jsx(X,{className:"w-3 h-3"}),"Ganti",t.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/webp",onChange:L,className:"hidden"})]})]}):t.jsxs("label",{className:"flex flex-col items-center justify-center py-12 cursor-pointer",children:[t.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mb-3",children:t.jsx(X,{className:"w-7 h-7 text-primary"})}),t.jsx("p",{className:"text-sm font-medium",children:"Klik untuk upload foto"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"JPG, PNG, atau WebP (maks. 10MB)"}),t.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/webp",onChange:L,className:"hidden"})]})}),e[14]=L,e[15]=P,e[16]=o):o=e[16];let c;e[17]!==E?(c=E&&t.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:t.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${E.percentage}%`}})}),e[17]=E,e[18]=c):c=e[18];let d;e[19]!==s.image?(d=s.image&&t.jsx("p",{className:"text-sm text-destructive",children:s.image}),e[19]=s.image,e[20]=d):d=e[20];let m;e[21]!==c||e[22]!==d||e[23]!==o?(m=t.jsxs("div",{className:"space-y-2",children:[G,o,c,d]}),e[21]=c,e[22]=d,e[23]=o,e[24]=m):m=e[24];let R;e[25]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx(C,{htmlFor:"title",children:"Judul Foto *"}),e[25]=R):R=e[25];let p;e[26]!==l?(p=r=>l("title",r.target.value),e[26]=l,e[27]=p):p=e[27];const O=s.title?"border-destructive":"";let u;e[28]!==i.title||e[29]!==p||e[30]!==O?(u=t.jsx(V,{id:"title",value:i.title,onChange:p,placeholder:"Contoh: Kegiatan Belajar Mengaji",className:O}),e[28]=i.title,e[29]=p,e[30]=O,e[31]=u):u=e[31];let h;e[32]!==s.title?(h=s.title&&t.jsx("p",{className:"text-sm text-destructive",children:s.title}),e[32]=s.title,e[33]=h):h=e[33];let f;e[34]!==u||e[35]!==h?(f=t.jsxs("div",{className:"space-y-2",children:[R,u,h]}),e[34]=u,e[35]=h,e[36]=f):f=e[36];let $;e[37]===Symbol.for("react.memo_cache_sentinel")?($=t.jsx(C,{htmlFor:"event_date",children:"Tanggal Kegiatan *"}),e[37]=$):$=e[37];let x;e[38]!==l?(x=r=>l("event_date",r.target.value),e[38]=l,e[39]=x):x=e[39];const W=s.event_date?"border-destructive":"";let g;e[40]!==i.event_date||e[41]!==x||e[42]!==W?(g=t.jsx(V,{id:"event_date",type:"date",value:i.event_date,onChange:x,className:W}),e[40]=i.event_date,e[41]=x,e[42]=W,e[43]=g):g=e[43];let b;e[44]!==s.event_date?(b=s.event_date&&t.jsx("p",{className:"text-sm text-destructive",children:s.event_date}),e[44]=s.event_date,e[45]=b):b=e[45];let j;e[46]!==g||e[47]!==b?(j=t.jsxs("div",{className:"space-y-2",children:[$,g,b]}),e[46]=g,e[47]=b,e[48]=j):j=e[48];let B;e[49]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsx(C,{htmlFor:"description",children:"Deskripsi Singkat"}),e[49]=B):B=e[49];let v;e[50]!==l?(v=r=>l("description",r.target.value),e[50]=l,e[51]=v):v=e[51];const q=s.description?"border-destructive":"";let _;e[52]!==i.description||e[53]!==v||e[54]!==q?(_=t.jsx(ne,{id:"description",value:i.description,onChange:v,placeholder:"Deskripsi singkat tentang kegiatan...",rows:3,className:q}),e[52]=i.description,e[53]=v,e[54]=q,e[55]=_):_=e[55];let y;e[56]!==s.description?(y=s.description&&t.jsx("p",{className:"text-sm text-destructive",children:s.description}),e[56]=s.description,e[57]=y):y=e[57];let N;e[58]!==_||e[59]!==y?(N=t.jsxs("div",{className:"space-y-2",children:[B,_,y]}),e[58]=_,e[59]=y,e[60]=N):N=e[60];let I;e[61]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsxs("div",{children:[t.jsx(C,{children:"Publikasikan"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Tampilkan di halaman profil"})]}),e[61]=I):I=e[61];let k;e[62]!==l?(k=r=>l("is_published",r),e[62]=l,e[63]=k):k=e[63];let w;e[64]!==i.is_published||e[65]!==k?(w=t.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[I,t.jsx(oe,{checked:i.is_published,onCheckedChange:k})]}),e[64]=i.is_published,e[65]=k,e[66]=w):w=e[66];let M;e[67]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsx(ce,{className:"w-5 h-5"}),e[67]=M):M=e[67];const z=F?"Menyimpan...":"Simpan Perubahan";let S;e[68]!==F||e[69]!==z?(S=t.jsxs("button",{type:"submit",disabled:F,className:"m3-button-filled w-full",children:[M,z]}),e[68]=F,e[69]=z,e[70]=S):S=e[70];let A;return e[71]!==J||e[72]!==m||e[73]!==f||e[74]!==j||e[75]!==N||e[76]!==w||e[77]!==S?(A=t.jsxs(re,{title:"Edit Dokumentasi",showBack:!0,backUrl:"/admin/gallery-posts",children:[U,t.jsx("div",{className:"m3-container py-6 space-y-6",children:t.jsxs("form",{onSubmit:J,className:"space-y-6",children:[m,f,j,N,w,S]})})]}),e[71]=J,e[72]=m,e[73]=f,e[74]=j,e[75]=N,e[76]=w,e[77]=S,e[78]=A):A=e[78],A}export{Ce as default};
